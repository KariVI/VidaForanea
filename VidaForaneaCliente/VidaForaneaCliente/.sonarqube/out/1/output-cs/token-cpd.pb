ª
cC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Models\Comment.cs
	namespace 	
VidaForaneaCliente
 
. 
Models #
{		 
public

 

class

 
Comment

 
{ 
[ 	

JsonIgnore	 
] 
public 
int 
id 
{ 
get 
; 
set  
;  !
}" #
[ 	
JsonProperty	 
( 
$str 
) 
] 
private 
int  
IntAlternativeSetter (
{ 	
set 
{ 
id 
= 
value 
; 
} 
} 	
public 
string 
student 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
date 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
hour 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
forum_id 
{ 
get !
;! "
set# &
;& '
}( )
} 
} Å
aC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Models\Forum.cs
	namespace 	
VidaForaneaCliente
 
. 
Models #
{		 
public

 

class

 
Forum

 
{ 
[ 	

JsonIgnore	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
degree 
{ 
get "
;" #
set$ '
;' (
}) *
} 
public 

enum 
degreeId 
{ 
estadistica 
, &
tecnologiasComputacionales "
," #
redes 
, 
software 
} 
} —
cC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Models\Opinion.cs
	namespace 	
VidaForaneaCliente
 
. 
Models #
{		 
public

 

class

 
Opinion

 
{ 
[ 	

JsonIgnore	 
] 
public 
int 
id 
{ 
get 
; 
set  
;  !
}" #
[ 	
JsonProperty	 
( 
$str 
) 
] 
private 
int  
IntAlternativeSetter (
{ 	
set 
{ 
id 
= 
value 
; 
} 
} 	
public 
string 
date 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
hour 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
id_place 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
student 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
score 
{ 
get 
; 
set  #
;# $
}% &
} 
} –
aC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Models\Place.cs
	namespace 	
VidaForaneaCliente
 
. 
Models #
{ 
public 

class 
Place 
{ 
[ 	

JsonIgnore	 
] 
public 
int 
id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
address 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
services 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
schedule 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 

type_place  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
image 
{ 
get !
;! "
set# &
;& '
}( )
public   
StatusPlace   
status   !
{  " #
get  $ '
;  ' (
set  ) ,
;  , -
}  . /
}!! 
public## 

enum## 
StatusPlace## 
{$$ 
	pendiente%% 
,%% 
aprobado&& 
}'' 
}** ï
cC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Models\Student.cs
	namespace 	
VidaForaneaCliente
 
. 
Models #
{		 
public 

class 
Student 
{ 
[ 	

JsonIgnore	 
] 
public 
int 
id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 

enrollment  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
degree 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
bool 
status 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
rol 
{ 
get 
;  
set! $
;$ %
}& '
} 
} Ï
aC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Models\Token.cs
	namespace 	
VidaForaneaCliente
 
. 
Models #
{ 
public		 

class		 
Token		 
{

 
public 
string 
accessToken !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
refreshToken "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ï
aC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Models\Utils.cs
	namespace		 	
VidaForaneaCliente		
 
.		 
Models		 #
{

 
public 

class 
Utils 
{ 
public 
static 
byte 
[ 
] 
ConvertImageToBytes 0
(0 1
string1 7
imageSource8 C
)C D
{ 	
MemoryStream 
ms 
= 
new !
MemoryStream" .
(. /
)/ 0
;0 1
JpegBitmapEncoder 
encoder %
=& '
new( +
JpegBitmapEncoder, =
(= >
)> ?
;? @
BitmapImage 
imagenFinal #
=$ %
new& )
BitmapImage* 5
(5 6
)6 7
;7 8
imagenFinal 
. 
	BeginInit !
(! "
)" #
;# $
imagenFinal 
. 
	UriSource !
=" #
new$ '
Uri( +
(+ ,
imageSource, 7
)7 8
;8 9
imagenFinal 
. 
DecodePixelHeight )
=* +
$num, /
;/ 0
imagenFinal 
. 
DecodePixelWidth (
=) *
$num+ .
;. /
imagenFinal 
. 
EndInit 
(  
)  !
;! "
encoder 
. 
Frames 
. 
Add 
( 
BitmapFrame *
.* +
Create+ 1
(1 2
imagenFinal2 =
)= >
)> ?
;? @
encoder 
. 
Save 
( 
ms 
) 
; 
return 
ms 
. 
ToArray 
( 
) 
;  
} 	
public 
static 
BitmapImage !
ConvertBytesToImage" 5
(5 6
byte6 :
[: ;
]; <
arrayDeImagen= J
)J K
{ 	
BitmapImage 
imagen 
=  
new! $
BitmapImage% 0
(0 1
)1 2
;2 3
using 
( 
MemoryStream 
	memStream  )
=* +
new, /
MemoryStream0 <
(< =
arrayDeImagen= J
)J K
)K L
{   
imagen!! 
.!! 
	BeginInit!!  
(!!  !
)!!! "
;!!" #
imagen"" 
."" 
CacheOption"" "
=""# $
BitmapCacheOption""% 6
.""6 7
OnLoad""7 =
;""= >
imagen## 
.## 
StreamSource## #
=##$ %
	memStream##& /
;##/ 0
imagen$$ 
.$$ 
EndInit$$ 
($$ 
)$$  
;$$  !
imagen%% 
.%% 
Freeze%% 
(%% 
)%% 
;%%  
}&& 
return'' 
imagen'' 
;'' 
}(( 	
})) 
}** ƒ÷
pC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\ServerConnection\Connection.cs
	namespace 	
VidaForaneaCliente
 
. 
ServerConnection -
{ 
public 

class 

Connection 
{ 
static 

HttpClient 
client  
=! "
new# &

HttpClient' 1
(1 2
)2 3
;3 4
public 
static 
HttpStatusCode $
latestStatusCode% 5
;5 6
public 
static 
Token 
token !
;! "
public 
static 
string 
	matricula &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
static 
string 
password %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
static 
void  
InitializeConnection /
(/ 0
)0 1
{ 	
client 
. 
BaseAddress 
=  
new! $
Uri% (
(( )
$str) D
)D E
;E F
client 
. !
DefaultRequestHeaders (
.( )
Accept) /
./ 0
Clear0 5
(5 6
)6 7
;7 8
client 
. !
DefaultRequestHeaders (
.( )
Accept) /
./ 0
Add0 3
(3 4
new +
MediaTypeWithQualityHeaderValue 3
(3 4
$str4 F
)F G
)G H
;H I
} 	
public   
static   
void    
AutheticateWithToken   /
(  / 0
)  0 1
{!! 	
client"" 
."" !
DefaultRequestHeaders"" (
.""( )
Authorization"") 6
=""7 8
new""9 <%
AuthenticationHeaderValue""= V
(""V W
$str""W _
,""_ `
token""a f
.""f g
accessToken""g r
)""r s
;""s t
}## 	
public%% 
static%% 
void%% "
AutheticateWithRefresh%% 1
(%%1 2
)%%2 3
{&& 	
client'' 
.'' !
DefaultRequestHeaders'' (
.''( )
Clear'') .
(''. /
)''/ 0
;''0 1
client(( 
.(( !
DefaultRequestHeaders(( (
.((( )
Accept(() /
.((/ 0
Add((0 3
(((3 4
new)) +
MediaTypeWithQualityHeaderValue)) 2
())2 3
$str))3 E
)))E F
)))F G
;))G H
client** 
.** !
DefaultRequestHeaders** (
.**( )
Authorization**) 6
=**7 8
new**9 <%
AuthenticationHeaderValue**= V
(**V W
$str**W _
,**_ `
token**a f
.**f g
refreshToken**g s
)**s t
;**t u
}++ 	
private-- 
static-- 
void-- 
showConnectionError-- /
(--/ 0
)--0 1
{.. 	

MessageBox// 
.// 
Show// 
(// 
$str// B
,//B C
$str//D W
,//W X
MessageBoxButton//Y i
.//i j
OK//j l
)//l m
;//m n
}00 	
public22 
static22 
async22 
void22  
RefreshToken22! -
(22- .
)22. /
{33 	
try44 
{55 
string66 
url66 
=66 
$str66 '
;66' ("
AutheticateWithRefresh77 &
(77& '
)77' (
;77( )
Student88 
student88 
=88  !
new88" %
Student88& -
(88- .
)88. /
{880 1

enrollment882 <
=88= >
	matricula88? H
,88H I
password88J R
=88S T
password88U ]
}88^ _
;88_ `
var99 
json99 
=99 
JsonConvert99 &
.99& '
SerializeObject99' 6
(996 7
student997 >
)99> ?
;99? @
var:: 
data:: 
=:: 
new:: 
StringContent:: ,
(::, -
json::- 1
,::1 2
Encoding::3 ;
.::; <
UTF8::< @
,::@ A
$str::B T
)::T U
;::U V
HttpResponseMessage;; #
response;;$ ,
=;;- .
await;;/ 4
client;;5 ;
.;;; <
	PostAsync;;< E
(;;E F
url;;F I
,;;I J
data;;K O
);;O P
;;;P Q
if<< 
(<< 
response<< 
.<< 
IsSuccessStatusCode<< 0
)<<0 1
{== 
var>> 

stringData>> "
=>># $
response>>% -
.>>- .
Content>>. 5
.>>5 6
ReadAsStringAsync>>6 G
(>>G H
)>>H I
.>>I J
Result>>J P
;>>P Q
var?? 
preToken??  
=??! "
JsonConvert??# .
.??. /
DeserializeObject??/ @
<??@ A
RootTokenRefresh??A Q
>??Q R
(??R S

stringData??S ]
)??] ^
;??^ _
token@@ 
.@@ 
accessToken@@ %
=@@& '
preToken@@( 0
.@@0 1
token@@1 6
;@@6 7
ConsoleAA 
.AA 
	WriteLineAA %
(AA% &
tokenAA& +
.AA+ ,
refreshTokenAA, 8
)AA8 9
;AA9 :
}BB  
AutheticateWithTokenCC $
(CC$ %
)CC% &
;CC& '
latestStatusCodeDD  
=DD! "
responseDD# +
.DD+ ,

StatusCodeDD, 6
;DD6 7
}EE 
catchFF 
(FF 
	ExceptionFF 
eFF 
)FF 
{GG 
showConnectionErrorHH #
(HH# $
)HH$ %
;HH% &
ConsoleII 
.II 
	WriteLineII !
(II! "
eII" #
.II# $
MessageII$ +
)II+ ,
;II, -
}JJ 
}KK 	
publicMM 
staticMM 
asyncMM 
TaskMM  
<MM  !
TokenMM! &
>MM& '
LoginMM( -
(MM- .
stringMM. 4
	matriculaMM5 >
,MM> ?
stringMM@ F
passwordMMG O
)MMO P
{NN 	
StudentOO 
studentOO 
=OO 
newOO !
StudentOO" )
(OO) *
)OO* +
{OO, -

enrollmentOO- 7
=OO8 9
	matriculaOO: C
,OOC D
passwordOOE M
=OON O
passwordOOP X
}OOY Z
;OOZ [
TokenPP 
tokenPP 
=PP 
newPP 
TokenPP #
(PP# $
)PP$ %
{PP& '
accessTokenPP( 3
=PP4 5
$strPP6 <
,PP< =
refreshTokenPP> J
=PPK L
$strPPM S
}PPS T
;PPT U
tryQQ 
{RR 
stringSS 
urlSS 
=SS 
$strSS %
;SS% &
varTT 
jsonTT 
=TT 
JsonConvertTT &
.TT& '
SerializeObjectTT' 6
(TT6 7
studentTT7 >
)TT> ?
;TT? @
varUU 
dataUU 
=UU 
newUU 
StringContentUU ,
(UU, -
jsonUU- 1
,UU1 2
EncodingUU3 ;
.UU; <
UTF8UU< @
,UU@ A
$strUUB T
)UUT U
;UUU V
HttpResponseMessageVV #
responseVV$ ,
=VV- .
awaitVV/ 4
clientVV5 ;
.VV; <
	PostAsyncVV< E
(VVE F
urlVVF I
,VVI J
dataVVK O
)VVO P
;VVP Q
ifWW 
(WW 
responseWW 
.WW 
IsSuccessStatusCodeWW 0
)WW0 1
{XX 
varYY 

stringDataYY "
=YY# $
responseYY% -
.YY- .
ContentYY. 5
.YY5 6
ReadAsStringAsyncYY6 G
(YYG H
)YYH I
.YYI J
ResultYYJ P
;YYP Q
varZZ 
preTokenZZ  
=ZZ! "
JsonConvertZZ# .
.ZZ. /
DeserializeObjectZZ/ @
<ZZ@ A
	RootTokenZZA J
>ZZJ K
(ZZK L

stringDataZZL V
)ZZV W
;ZZW X
token[[ 
=[[ 
preToken[[ $
.[[$ %
	makeToken[[% .
([[. /
)[[/ 0
;[[0 1
}\\ 
latestStatusCode]]  
=]]! "
response]]# +
.]]+ ,

StatusCode]], 6
;]]6 7
}^^ 
catch__ 
(__ 
	Exception__ 
e__ 
)__ 
{`` 
showConnectionErroraa #
(aa# $
)aa$ %
;aa% &
Consolebb 
.bb 
	WriteLinebb !
(bb! "
ebb" #
.bb# $
Messagebb$ +
)bb+ ,
;bb, -
}cc 
returndd 
tokendd 
;dd 
}ee 	
publichh 
statichh 
asynchh 
Taskhh  
<hh  !
Listhh! %
<hh% &
Placehh& +
>hh+ ,
>hh, -
GetPlacesByCategoryhh. A
(hhA B
stringhhB H
estadohhI O
,hhO P
stringhhQ W
categoryhhX `
)hh` a
{ii 	
Listjj 
<jj 
Placejj 
>jj 
placesjj 
=jj  !
newjj" %
Listjj& *
<jj* +
Placejj+ 0
>jj0 1
(jj2 3
)jj3 4
;jj4 5
trykk 
{ll 
stringmm 
routemm 
;mm 
ifnn 
(nn 
categorynn 
.nn 
Equalsnn #
(nn# $
$strnn$ &
)nn& '
)nn' (
{oo 
routepp 
=pp 
$strpp &
+pp' (
estadopp) /
;pp0 1
}qq 
elserr 
{ss 
routett 
=tt 
$strtt &
+tt' (
estadott) /
+tt0 1
$strtt2 5
+tt6 7
categorytt8 @
;tt@ A
}uu 
HttpResponseMessagevv #
responsevv$ ,
=vv- .
awaitvv/ 4
clientvv5 ;
.vv; <
GetAsyncvv< D
(vvD E
routevvE J
)vvJ K
;vvK L
ifww 
(ww 
responseww 
.ww 
IsSuccessStatusCodeww 0
)ww0 1
{xx 
varzz 

stringDatazz "
=zz# $
responsezz% -
.zz- .
Contentzz. 5
.zz5 6
ReadAsStringAsynczz6 G
(zzG H
)zzH I
.zzI J
ResultzzJ P
;zzP Q
var{{ 
places2{{ 
={{  
JsonConvert{{! ,
.{{, -
DeserializeObject{{- >
<{{> ?
Root{{? C
>{{C D
({{D E

stringData{{E O
){{O P
;{{P Q
places|| 
=|| 
places2|| $
.||$ %
	makeAList||% .
(||. /
)||/ 0
;||0 1
}}} 
latestStatusCode~~  
=~~! "
response~~# +
.~~+ ,

StatusCode~~, 6
;~~6 7
RefreshToken 
( 
) 
; 
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
e
ÅÅ 
)
ÅÅ 
{
ÇÇ !
showConnectionError
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
;
ÉÉ% &
Console
ÑÑ 
.
ÑÑ 
	WriteLine
ÑÑ !
(
ÑÑ! "
e
ÑÑ" #
.
ÑÑ# $
Message
ÑÑ$ +
)
ÑÑ+ ,
;
ÑÑ, -
}
ÖÖ 
return
ÜÜ 
places
ÜÜ 
;
ÜÜ 
}
áá 	
internal
ââ 
static
ââ 
async
ââ 
Task
ââ "
<
ââ" #
bool
ââ# '
>
ââ' (
DeleteOpinion
ââ) 6
(
ââ6 7
Place
ââ7 <
place
ââ= B
,
ââB C
Opinion
ââD K
opinion
ââL S
)
ââS T
{
ää 	
bool
ãã 
value
ãã 
=
ãã 
true
ãã 
;
ãã 
try
åå 
{
çç 
String
éé 
idPlace
éé 
=
éé  
place
éé! &
.
éé& '
id
éé' )
.
éé) *
ToString
éé* 2
(
éé2 3
)
éé3 4
;
éé4 5
String
èè 
rute
èè 
=
èè 
$str
èè )
+
èè* +
idPlace
èè, 3
+
èè4 5
$str
èè6 C
+
èèD E
opinion
èèF M
.
èèM N
id
èèN P
;
èèP Q!
HttpResponseMessage
êê #
response
êê$ ,
=
êê- .
await
êê/ 4
client
êê5 ;
.
êê; <
DeleteAsync
êê< G
(
êêG H
rute
êêH L
)
êêL M
;
êêM N
latestStatusCode
ëë  
=
ëë! "
response
ëë# +
.
ëë+ ,

StatusCode
ëë, 6
;
ëë6 7
Console
íí 
.
íí 
	WriteLine
íí !
(
íí! "
latestStatusCode
íí" 2
)
íí2 3
;
íí3 4
if
ìì 
(
ìì 
latestStatusCode
ìì $
!=
ìì% '
HttpStatusCode
ìì( 6
.
ìì6 7
	NoContent
ìì7 @
)
ìì@ A
{
îî 
value
ïï 
=
ïï 
false
ïï !
;
ïï! "
}
ññ 
RefreshToken
óó 
(
óó 
)
óó 
;
óó 
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
e
ôô 
)
ôô 
{
öö 
value
õõ 
=
õõ 
false
õõ 
;
õõ 
Console
úú 
.
úú 
	WriteLine
úú !
(
úú! "
e
úú" #
.
úú# $
Message
úú$ +
)
úú+ ,
;
úú, -
}
ùù 
return
ûû 
value
ûû 
;
ûû 
}
†† 	
public
°° 
async
°° 
static
°° 
Task
°°  
<
°°  !
bool
°°! %
>
°°% &
PutPlace
°°' /
(
°°/ 0
Place
°°0 5
place
°°6 ;
,
°°; <
int
°°= @
id
°°A C
)
°°C D
{
¢¢ 	
bool
££ 
value
££ 
=
££ 
true
££ 
;
££ 
try
§§ 
{
•• 
string
¶¶ 
url
¶¶ 
=
¶¶ 
$str
¶¶ (
+
¶¶) *
id
¶¶+ -
;
¶¶- .
var
ßß 
json
ßß 
=
ßß 

Newtonsoft
ßß %
.
ßß% &
Json
ßß& *
.
ßß* +
JsonConvert
ßß+ 6
.
ßß6 7
SerializeObject
ßß7 F
(
ßßF G
place
ßßG L
)
ßßL M
;
ßßM N
var
®® 
data
®® 
=
®® 
new
®® 
StringContent
®® ,
(
®®, -
json
®®- 1
,
®®1 2
Encoding
®®3 ;
.
®®; <
UTF8
®®< @
,
®®@ A
$str
®®B T
)
®®T U
;
®®U V!
HttpResponseMessage
©© #
response
©©$ ,
=
©©- .
await
©©/ 4
client
©©5 ;
.
©©; <
PutAsync
©©< D
(
©©D E
url
©©E H
,
©©H I
data
©©I M
)
©©M N
;
©©N O
latestStatusCode
™™  
=
™™! "
response
™™# +
.
™™+ ,

StatusCode
™™, 6
;
™™6 7
if
´´ 
(
´´ 
latestStatusCode
´´ $
!=
´´% '
HttpStatusCode
´´( 6
.
´´6 7
OK
´´7 9
)
´´9 :
{
¨¨ 
value
≠≠ 
=
≠≠ 
false
≠≠ !
;
≠≠! "
}
ÆÆ 
RefreshToken
ØØ 
(
ØØ 
)
ØØ 
;
ØØ 
}
∞∞ 
catch
±± 
(
±± 
	Exception
±± 
e
±± 
)
±± 
{
≤≤ !
showConnectionError
≥≥ #
(
≥≥# $
)
≥≥$ %
;
≥≥% &
value
¥¥ 
=
¥¥ 
false
¥¥ 
;
¥¥ 
Console
µµ 
.
µµ 
	WriteLine
µµ !
(
µµ! "
e
µµ" #
.
µµ# $
Message
µµ$ +
)
µµ+ ,
;
µµ, -
}
∂∂ 
return
∑∑ 
value
∑∑ 
;
∑∑ 
}
∏∏ 
public
∫∫ 
static
∫∫ 
async
∫∫ 
Task
∫∫  
<
∫∫  !
List
∫∫! %
<
∫∫% &
Opinion
∫∫& -
>
∫∫- .
>
∫∫. / 
GetOpinionsByPlace
∫∫0 B
(
∫∫B C
Place
∫∫C H
place
∫∫I N
)
∫∫N O
{
ªª 	
List
ºº 
<
ºº 
Opinion
ºº 
>
ºº 
opinions
ºº "
=
ºº# $
new
ºº% (
List
ºº) -
<
ºº- .
Opinion
ºº. 5
>
ºº5 6
(
ºº6 7
)
ºº7 8
;
ºº8 9
try
ΩΩ 
{
ææ !
HttpResponseMessage
øø #
response
øø$ ,
=
øø- .
await
øø/ 4
client
øø5 ;
.
øø; <
GetAsync
øø< D
(
øøD E
$str
øøE O
+
øøP Q
place
øøR W
.
øøW X
id
øøX Z
+
øø[ \
$str
øø] i
)
øøj k
;
øøk l
if
¿¿ 
(
¿¿ 
response
¿¿ 
.
¿¿ !
IsSuccessStatusCode
¿¿ 0
)
¿¿0 1
{
¡¡ 
var
√√ 

stringData
√√ "
=
√√# $
response
√√% -
.
√√- .
Content
√√. 5
.
√√5 6
ReadAsStringAsync
√√6 G
(
√√G H
)
√√H I
.
√√I J
Result
√√J P
;
√√P Q
var
ƒƒ 
	opinions2
ƒƒ !
=
ƒƒ" #
JsonConvert
ƒƒ$ /
.
ƒƒ/ 0
DeserializeObject
ƒƒ0 A
<
ƒƒA B
List
ƒƒB F
<
ƒƒF G
Opinion
ƒƒG N
>
ƒƒN O
>
ƒƒO P
(
ƒƒP Q

stringData
ƒƒQ [
)
ƒƒ[ \
;
ƒƒ\ ]
opinions
≈≈ 
=
≈≈ 
	opinions2
≈≈ (
;
≈≈( )
}
∆∆ 
latestStatusCode
««  
=
««! "
response
««# +
.
««+ ,

StatusCode
««, 6
;
««6 7
RefreshToken
»» 
(
»» 
)
»» 
;
»» 
}
…… 
catch
   
(
   
	Exception
   
e
   
)
   
{
ÀÀ !
showConnectionError
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
Console
ÕÕ 
.
ÕÕ 
	WriteLine
ÕÕ !
(
ÕÕ! "
e
ÕÕ" #
.
ÕÕ# $
Message
ÕÕ$ +
)
ÕÕ+ ,
;
ÕÕ, -
}
ŒŒ 
return
œœ 
opinions
œœ 
;
œœ 
}
–– 	
public
““ 
static
““ 
async
““ 
Task
““  
<
““  !
List
““! %
<
““% &
Comment
““& -
>
““- .
>
““. / 
GetCommentsByForum
““0 B
(
““B C
Forum
““C H
forum
““I N
)
““N O
{
”” 	
List
‘‘ 
<
‘‘ 
Comment
‘‘ 
>
‘‘ 
comments
‘‘ "
=
‘‘# $
new
‘‘% (
List
‘‘) -
<
‘‘- .
Comment
‘‘. 5
>
‘‘5 6
(
‘‘6 7
)
‘‘7 8
;
‘‘8 9
try
’’ 
{
÷÷ !
HttpResponseMessage
◊◊ #
response
◊◊$ ,
=
◊◊- .
await
◊◊/ 4
client
◊◊5 ;
.
◊◊; <
GetAsync
◊◊< D
(
◊◊D E
$str
◊◊E M
+
◊◊N O
forum
◊◊P U
.
◊◊U V
Id
◊◊V X
+
◊◊Y Z
$str
◊◊[ i
)
◊◊i j
;
◊◊j k
if
ÿÿ 
(
ÿÿ 
response
ÿÿ 
.
ÿÿ !
IsSuccessStatusCode
ÿÿ 0
)
ÿÿ0 1
{
ŸŸ 
var
€€ 

stringData
€€ "
=
€€# $
response
€€% -
.
€€- .
Content
€€. 5
.
€€5 6
ReadAsStringAsync
€€6 G
(
€€G H
)
€€H I
.
€€I J
Result
€€J P
;
€€P Q
var
‹‹ 
	comments2
‹‹ !
=
‹‹" #
JsonConvert
‹‹$ /
.
‹‹/ 0
DeserializeObject
‹‹0 A
<
‹‹A B
List
‹‹B F
<
‹‹F G
Comment
‹‹G N
>
‹‹N O
>
‹‹O P
(
‹‹P Q

stringData
‹‹Q [
)
‹‹[ \
;
‹‹\ ]
comments
›› 
=
›› 
	comments2
›› (
;
››( )
for
ﬁﬁ 
(
ﬁﬁ 
int
ﬁﬁ 
i
ﬁﬁ 
=
ﬁﬁ  
$num
ﬁﬁ! "
;
ﬁﬁ" #
i
ﬁﬁ$ %
<
ﬁﬁ& '
comments
ﬁﬁ( 0
.
ﬁﬁ0 1
Count
ﬁﬁ1 6
;
ﬁﬁ6 7
i
ﬁﬁ8 9
++
ﬁﬁ9 ;
)
ﬁﬁ; <
{
ﬂﬂ 
Console
‡‡ 
.
‡‡  
	WriteLine
‡‡  )
(
‡‡) *
comments
‡‡* 2
[
‡‡2 3
i
‡‡3 4
]
‡‡4 5
.
‡‡5 6
id
‡‡6 8
)
‡‡8 9
;
‡‡9 :
}
·· 
}
‚‚ 
latestStatusCode
„„  
=
„„! "
response
„„# +
.
„„+ ,

StatusCode
„„, 6
;
„„6 7
RefreshToken
‰‰ 
(
‰‰ 
)
‰‰ 
;
‰‰ 
}
ÂÂ 
catch
ÊÊ 
(
ÊÊ 
	Exception
ÊÊ 
e
ÊÊ 
)
ÊÊ 
{
ÁÁ !
showConnectionError
ËË #
(
ËË# $
)
ËË$ %
;
ËË% &
Console
ÈÈ 
.
ÈÈ 
	WriteLine
ÈÈ !
(
ÈÈ! "
e
ÈÈ" #
.
ÈÈ# $
Message
ÈÈ$ +
)
ÈÈ+ ,
;
ÈÈ, -
}
ÍÍ 
return
ÎÎ 
comments
ÎÎ 
;
ÎÎ 
}
ÏÏ 	
public
ÓÓ 
static
ÓÓ 
async
ÓÓ 
Task
ÓÓ  
<
ÓÓ  !
Student
ÓÓ! (
>
ÓÓ( )#
GetStudentByMatricula
ÓÓ* ?
(
ÓÓ? @
string
ÓÓ@ F
	matricula
ÓÓG P
)
ÓÓP Q
{
ÔÔ 	
Student
 
student
 
=
 
null
 "
;
" #
try
ÒÒ 
{
ÚÚ !
HttpResponseMessage
ÛÛ #
response
ÛÛ$ ,
=
ÛÛ- .
await
ÛÛ/ 4
client
ÛÛ5 ;
.
ÛÛ; <
GetAsync
ÛÛ< D
(
ÛÛD E
$str
ÛÛE S
+
ÛÛT U
	matricula
ÛÛV _
)
ÛÛ_ `
;
ÛÛ` a
if
ÙÙ 
(
ÙÙ 
response
ÙÙ 
.
ÙÙ !
IsSuccessStatusCode
ÙÙ 0
)
ÙÙ0 1
{
ıı 
student
ˆˆ 
=
ˆˆ 
await
ˆˆ #
response
ˆˆ$ ,
.
ˆˆ, -
Content
ˆˆ- 4
.
ˆˆ4 5
ReadAsAsync
ˆˆ5 @
<
ˆˆ@ A
Student
ˆˆA H
>
ˆˆH I
(
ˆˆI J
)
ˆˆJ K
;
ˆˆK L
}
˜˜ 
latestStatusCode
¯¯  
=
¯¯! "
response
¯¯# +
.
¯¯+ ,

StatusCode
¯¯, 6
;
¯¯6 7
RefreshToken
˘˘ 
(
˘˘ 
)
˘˘ 
;
˘˘ 
}
˚˚ 
catch
¸¸ 
(
¸¸ 
	Exception
¸¸ 
e
¸¸ 
)
¸¸ 
{
˝˝ !
showConnectionError
˛˛ #
(
˛˛# $
)
˛˛$ %
;
˛˛% &
Console
ˇˇ 
.
ˇˇ 
	WriteLine
ˇˇ !
(
ˇˇ! "
e
ˇˇ" #
.
ˇˇ# $
Message
ˇˇ$ +
)
ˇˇ+ ,
;
ˇˇ, -
}
ÄÄ 
return
ÅÅ 
student
ÅÅ 
;
ÅÅ 
}
ÇÇ 	
public
ÑÑ 
static
ÑÑ 
async
ÑÑ 
Task
ÑÑ  
<
ÑÑ  !
bool
ÑÑ! %
>
ÑÑ% &
PostStudent
ÑÑ' 2
(
ÑÑ2 3
Student
ÑÑ3 :
student
ÑÑ; B
)
ÑÑB C
{
ÖÖ 	
bool
ÜÜ 
value
ÜÜ 
=
ÜÜ 
true
ÜÜ 
;
ÜÜ 
try
áá 
{
àà !
HttpResponseMessage
ââ #
response
ââ$ ,
=
ââ- .
await
ââ/ 4
client
ââ5 ;
.
ââ; <
PostAsJsonAsync
ââ< K
(
ââK L
$str
ââL Z
,
ââZ [
student
ââ[ b
)
ââb c
;
ââc d
if
ää 
(
ää 
response
ää 
.
ää !
IsSuccessStatusCode
ää 0
)
ää0 1
{
ãã 
student
åå 
=
åå 
await
åå #
response
åå$ ,
.
åå, -
Content
åå- 4
.
åå4 5
ReadAsAsync
åå5 @
<
åå@ A
Student
ååA H
>
ååH I
(
ååI J
)
ååJ K
;
ååK L
}
éé 
latestStatusCode
èè  
=
èè! "
response
èè# +
.
èè+ ,

StatusCode
èè, 6
;
èè6 7
Console
êê 
.
êê 
	WriteLine
êê !
(
êê! "
latestStatusCode
êê" 2
)
êê2 3
;
êê3 4
RefreshToken
ëë 
(
ëë 
)
ëë 
;
ëë 
}
ìì 
catch
îî 
(
îî 
	Exception
îî 
e
îî 
)
îî 
{
ïï 
value
ññ 
=
ññ 
false
ññ 
;
ññ !
showConnectionError
óó #
(
óó# $
)
óó$ %
;
óó% &
Console
òò 
.
òò 
	WriteLine
òò !
(
òò! "
e
òò" #
.
òò# $
Message
òò$ +
)
òò+ ,
;
òò, -
}
ôô 
return
öö 
value
öö 
;
öö 
}
õõ 	
public
ùù 
static
ùù 
async
ùù 
Task
ùù  
<
ùù  !
bool
ùù! %
>
ùù% &
	PostPlace
ùù' 0
(
ùù0 1
Place
ùù1 6
place
ùù7 <
,
ùù< =
bool
ùù= A
isAdmin
ùùB I
)
ùùI J
{
ûû 	
bool
üü 
value
üü 
=
üü 
true
üü 
;
üü 
try
†† 
{
°° 
if
¢¢ 
(
¢¢ 
isAdmin
¢¢ 
)
¢¢ 
{
££ 
place
§§ 
.
§§ 
status
§§  
=
§§! "
StatusPlace
§§# .
.
§§. /
aprobado
§§/ 7
;
§§7 8
}
•• 
else
¶¶ 
{
ßß 
place
®® 
.
®® 
status
®®  
=
®®! "
StatusPlace
®®# .
.
®®. /
	pendiente
®®/ 8
;
®®8 9
}
©© !
HttpResponseMessage
™™ #
response
™™$ ,
=
™™- .
await
™™/ 4
client
™™5 ;
.
™™; <
PostAsJsonAsync
™™< K
(
™™K L
$str
™™L V
,
™™V W
place
™™X ]
)
™™] ^
;
™™^ _
latestStatusCode
´´  
=
´´! "
response
´´# +
.
´´+ ,

StatusCode
´´, 6
;
´´6 7
if
¨¨ 
(
¨¨ 
latestStatusCode
¨¨ $
!=
¨¨% '
HttpStatusCode
¨¨( 6
.
¨¨6 7
Created
¨¨7 >
)
¨¨> ?
{
≠≠ 
value
ÆÆ 
=
ÆÆ 
false
ÆÆ !
;
ÆÆ! "
}
ØØ 
RefreshToken
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞ 
}
≤≤ 
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
e
≥≥ 
)
≥≥ 
{
¥¥ !
showConnectionError
µµ #
(
µµ# $
)
µµ$ %
;
µµ% &
value
∂∂ 
=
∂∂ 
false
∂∂ 
;
∂∂ 
Console
∑∑ 
.
∑∑ 
	WriteLine
∑∑ !
(
∑∑! "
e
∑∑" #
.
∑∑# $
Message
∑∑$ +
)
∑∑+ ,
;
∑∑, -
}
∏∏ 
return
ππ 
value
ππ 
;
ππ 
}
∫∫ 	
public
ºº 
static
ºº 
async
ºº 
Task
ºº  
<
ºº  !
bool
ºº! %
>
ºº% &
PostOpinion
ºº' 2
(
ºº2 3
Place
ºº3 8
place
ºº9 >
,
ºº> ?
Opinion
ºº@ G
opinion
ººH O
)
ººO P
{
ΩΩ 	
bool
ææ 
value
ææ 
=
ææ 
true
ææ 
;
ææ 
try
øø 
{
¿¿ 
String
¬¬ 
idPlace
¬¬ 
=
¬¬  
place
¬¬! &
.
¬¬& '
id
¬¬' )
.
¬¬) *
ToString
¬¬* 2
(
¬¬2 3
)
¬¬3 4
;
¬¬4 5
String
√√ 
rute
√√ 
=
√√ 
$str
√√ )
+
√√* +
idPlace
√√, 3
+
√√4 5
$str
√√6 B
;
√√B C!
HttpResponseMessage
ƒƒ #
response
ƒƒ$ ,
=
ƒƒ- .
await
ƒƒ/ 4
client
ƒƒ5 ;
.
ƒƒ; <
PostAsJsonAsync
ƒƒ< K
(
ƒƒK L
rute
ƒƒL P
,
ƒƒP Q
opinion
ƒƒR Y
)
ƒƒY Z
;
ƒƒZ [
latestStatusCode
≈≈  
=
≈≈! "
response
≈≈# +
.
≈≈+ ,

StatusCode
≈≈, 6
;
≈≈6 7
if
∆∆ 
(
∆∆ 
latestStatusCode
∆∆ $
!=
∆∆% '
HttpStatusCode
∆∆( 6
.
∆∆6 7
Created
∆∆7 >
)
∆∆> ?
{
«« 
value
»» 
=
»» 
false
»» !
;
»»! "
}
…… 
RefreshToken
   
(
   
)
   
;
   
}
ÃÃ 
catch
ÕÕ 
(
ÕÕ 
	Exception
ÕÕ 
e
ÕÕ 
)
ÕÕ 
{
ŒŒ !
showConnectionError
œœ #
(
œœ# $
)
œœ$ %
;
œœ% &
value
–– 
=
–– 
false
–– 
;
–– 
Console
—— 
.
—— 
	WriteLine
—— !
(
——! "
e
——" #
.
——# $
Message
——$ +
)
——+ ,
;
——, -
}
““ 
return
”” 
value
”” 
;
”” 
}
‘‘ 	
public
’’ 
static
’’ 
async
’’ 
Task
’’  
<
’’  !
bool
’’! %
>
’’% &
PostComment
’’' 2
(
’’2 3
Forum
’’3 8
forum
’’9 >
,
’’> ?
Comment
’’@ G
comment
’’H O
)
’’O P
{
÷÷ 	
bool
◊◊ 
value
◊◊ 
=
◊◊ 
true
◊◊ 
;
◊◊ 
try
ÿÿ 
{
ŸŸ 
String
€€ 
idForum
€€ 
=
€€  
forum
€€! &
.
€€& '
Id
€€' )
.
€€) *
ToString
€€* 2
(
€€2 3
)
€€3 4
;
€€4 5
String
‹‹ 
rute
‹‹ 
=
‹‹ 
$str
‹‹ '
+
‹‹( )
idForum
‹‹* 1
+
‹‹2 3
$str
‹‹4 B
;
‹‹B C!
HttpResponseMessage
›› #
response
››$ ,
=
››- .
await
››/ 4
client
››5 ;
.
››; <
PostAsJsonAsync
››< K
(
››K L
rute
››L P
,
››P Q
comment
››R Y
)
››Y Z
;
››Z [
latestStatusCode
ﬁﬁ  
=
ﬁﬁ! "
response
ﬁﬁ# +
.
ﬁﬁ+ ,

StatusCode
ﬁﬁ, 6
;
ﬁﬁ6 7
if
ﬂﬂ 
(
ﬂﬂ 
latestStatusCode
ﬂﬂ $
!=
ﬂﬂ% '
HttpStatusCode
ﬂﬂ( 6
.
ﬂﬂ6 7
Created
ﬂﬂ7 >
)
ﬂﬂ> ?
{
‡‡ 
value
·· 
=
·· 
false
·· !
;
··! "
}
‚‚ 
RefreshToken
„„ 
(
„„ 
)
„„ 
;
„„ 
}
ÂÂ 
catch
ÊÊ 
(
ÊÊ 
	Exception
ÊÊ 
e
ÊÊ 
)
ÊÊ 
{
ÁÁ !
showConnectionError
ËË #
(
ËË# $
)
ËË$ %
;
ËË% &
value
ÈÈ 
=
ÈÈ 
false
ÈÈ 
;
ÈÈ 
Console
ÍÍ 
.
ÍÍ 
	WriteLine
ÍÍ !
(
ÍÍ! "
e
ÍÍ" #
.
ÍÍ# $
Message
ÍÍ$ +
)
ÍÍ+ ,
;
ÍÍ, -
}
ÎÎ 
return
ÏÏ 
value
ÏÏ 
;
ÏÏ 
}
ÌÌ 	
public
ÔÔ 
static
ÔÔ 
async
ÔÔ 
Task
ÔÔ  
<
ÔÔ  !
bool
ÔÔ! %
>
ÔÔ% &
DeleteComment
ÔÔ' 4
(
ÔÔ4 5
Forum
ÔÔ5 :
forum
ÔÔ; @
,
ÔÔ@ A
Comment
ÔÔB I
comment
ÔÔJ Q
)
ÔÔQ R
{
 	
bool
ÒÒ 
value
ÒÒ 
=
ÒÒ 
true
ÒÒ 
;
ÒÒ 
try
ÚÚ 
{
ÛÛ 
String
ÙÙ 
idForum
ÙÙ 
=
ÙÙ  
forum
ÙÙ! &
.
ÙÙ& '
Id
ÙÙ' )
.
ÙÙ) *
ToString
ÙÙ* 2
(
ÙÙ2 3
)
ÙÙ3 4
;
ÙÙ4 5
String
ıı 
rute
ıı 
=
ıı 
$str
ıı '
+
ıı( )
idForum
ıı* 1
+
ıı2 3
$str
ıı4 C
+
ııD E
comment
ııF M
.
ııM N
id
ııN P
;
ııP Q!
HttpResponseMessage
ˆˆ #
response
ˆˆ$ ,
=
ˆˆ- .
await
ˆˆ/ 4
client
ˆˆ5 ;
.
ˆˆ; <
DeleteAsync
ˆˆ< G
(
ˆˆG H
rute
ˆˆH L
)
ˆˆL M
;
ˆˆM N
latestStatusCode
˜˜  
=
˜˜! "
response
˜˜# +
.
˜˜+ ,

StatusCode
˜˜, 6
;
˜˜6 7
Console
¯¯ 
.
¯¯ 
	WriteLine
¯¯ !
(
¯¯! "
latestStatusCode
¯¯" 2
)
¯¯2 3
;
¯¯3 4
if
˘˘ 
(
˘˘ 
latestStatusCode
˘˘ $
!=
˘˘% '
HttpStatusCode
˘˘( 6
.
˘˘6 7
	NoContent
˘˘7 @
)
˘˘@ A
{
˙˙ 
value
˚˚ 
=
˚˚ 
false
˚˚ !
;
˚˚! "
}
¸¸ 
RefreshToken
˝˝ 
(
˝˝ 
)
˝˝ 
;
˝˝ 
}
ˇˇ 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
e
ÄÄ 
)
ÄÄ 
{
ÅÅ !
showConnectionError
ÇÇ #
(
ÇÇ# $
)
ÇÇ$ %
;
ÇÇ% &
value
ÉÉ 
=
ÉÉ 
false
ÉÉ 
;
ÉÉ 
Console
ÑÑ 
.
ÑÑ 
	WriteLine
ÑÑ !
(
ÑÑ! "
e
ÑÑ" #
.
ÑÑ# $
Message
ÑÑ$ +
)
ÑÑ+ ,
;
ÑÑ, -
}
ÖÖ 
return
ÜÜ 
value
ÜÜ 
;
ÜÜ 
}
áá 	
}
àà 
}çç 
classéé 
Root
éé 

{èè 
public
êê 

List
êê 
<
êê 

Dictionary
êê 
<
êê 
string
êê !
,
êê! "
object
êê# )
>
êê) *
>
êê* +
Data
êê, 0
{
êê1 2
get
êê3 6
;
êê6 7
set
êê8 ;
;
êê; <
}
êê= >
public
ëë 

List
ëë 
<
ëë 
Place
ëë 
>
ëë 
	makeAList
ëë  
(
ëë  !
)
ëë! "
{
íí 
List
ìì 
<
ìì 
Place
ìì 
>
ìì 
places
ìì 
=
ìì 
new
ìì  
List
ìì! %
<
ìì% &
Place
ìì& +
>
ìì+ ,
(
ìì, -
)
ìì- .
;
ìì. /
foreach
îî 
(
îî 
var
îî 
dict
îî 
in
îî 
Data
îî !
)
îî! "
{
ïï 	
Place
ññ 
place
ññ 
=
ññ 
new
ññ 
Place
ññ #
(
ññ# $
)
ññ$ %
;
ññ% &
StatusPlace
óó 
status
óó 
=
óó  
new
óó! $
StatusPlace
óó% 0
(
óó0 1
)
óó1 2
;
óó2 3
place
òò 
.
òò 
id
òò 
=
òò 
Convert
òò 
.
òò 
ToInt32
òò &
(
òò& '
dict
òò' +
[
òò+ ,
$str
òò, 0
]
òò0 1
)
òò1 2
;
òò2 3
place
ôô 
.
ôô 
name
ôô 
=
ôô 
(
ôô 
string
ôô  
)
ôô  !
dict
ôô! %
[
ôô% &
$str
ôô& ,
]
ôô, -
;
ôô- .
place
öö 
.
öö 
address
öö 
=
öö 
(
öö 
string
öö #
)
öö# $
dict
öö$ (
[
öö( )
$str
öö) 2
]
öö2 3
;
öö3 4
place
õõ 
.
õõ 
services
õõ 
=
õõ 
(
õõ 
string
õõ $
)
õõ$ %
dict
õõ% )
[
õõ) *
$str
õõ* 4
]
õõ4 5
;
õõ5 6
place
ùù 
.
ùù 
image
ùù 
=
ùù 
dict
ùù 
[
ùù 
$str
ùù &
]
ùù& '
.
ùù' (
ToString
ùù( 0
(
ùù0 1
)
ùù1 2
;
ùù2 3
string
üü 
statusRetrieved
üü "
=
üü# $
(
üü% &
string
üü& ,
)
üü, -
dict
üü- 1
[
üü1 2
$str
üü2 :
]
üü: ;
;
üü; <
if
†† 
(
†† 
statusRetrieved
†† 
.
††  
Equals
††  &
(
††& '
$str
††' 1
)
††1 2
)
††2 3
{
††4 5
status
°° 
=
°° 
StatusPlace
°° $
.
°°$ %
aprobado
°°% -
;
°°- .
}
¢¢ 
else
££ 
{
§§ 
status
•• 
=
•• 
StatusPlace
•• $
.
••$ %
	pendiente
••% .
;
••. /
}
¶¶ 
place
ßß 
.
ßß 
status
ßß 
=
ßß 
status
ßß !
;
ßß! "
place
®® 
.
®® 

type_place
®® 
=
®® 
(
®®  
string
®®  &
)
®®& '
dict
®®' +
[
®®+ ,
$str
®®, 8
]
®®8 9
;
®®9 :
places
©© 
.
©© 
Add
©© 
(
©© 
place
©© 
)
©© 
;
©© 
}
™™ 	
return
´´ 
places
´´ 
;
´´ 
}
¨¨ 
}≠≠ 
class
ÆÆ 

RootOpinion
ÆÆ 
{
ØØ 
public
∞∞ 
List
∞∞ 
<
∞∞ 

Dictionary
∞∞ 
<
∞∞ 
string
∞∞ %
,
∞∞% &
object
∞∞' -
>
∞∞- .
>
∞∞. /
Data
∞∞0 4
{
∞∞5 6
get
∞∞7 :
;
∞∞: ;
set
∞∞< ?
;
∞∞? @
}
∞∞A B
public
±± 
List
±± 
<
±± 
Opinion
±± 
>
±± 
	makeAList
±± &
(
±±& '
)
±±' (
{
≤≤ 	
List
≥≥ 
<
≥≥ 
Opinion
≥≥ 
>
≥≥ 
opinions
≥≥ "
=
≥≥# $
new
≥≥% (
List
≥≥) -
<
≥≥- .
Opinion
≥≥. 5
>
≥≥5 6
(
≥≥6 7
)
≥≥7 8
;
≥≥8 9
foreach
¥¥ 
(
¥¥ 
var
¥¥ 
dict
¥¥ 
in
¥¥  
Data
¥¥! %
)
¥¥% &
{
µµ 
Opinion
∂∂ 
opinion
∂∂ 
=
∂∂  !
new
∂∂" %
Opinion
∂∂& -
(
∂∂- .
)
∂∂. /
;
∂∂/ 0
opinion
∑∑ 
.
∑∑ 
id
∑∑ 
=
∑∑ 
Convert
∑∑ $
.
∑∑$ %
ToInt32
∑∑% ,
(
∑∑, -
dict
∑∑- 1
[
∑∑1 2
$str
∑∑2 6
]
∑∑6 7
)
∑∑7 8
;
∑∑8 9
opinion
∏∏ 
.
∏∏ 
description
∏∏ #
=
∏∏$ %
(
∏∏& '
string
∏∏' -
)
∏∏- .
dict
∏∏. 2
[
∏∏2 3
$str
∏∏3 @
]
∏∏@ A
;
∏∏A B
opinion
ππ 
.
ππ 
date
ππ 
=
ππ 
(
ππ  
string
ππ  &
)
ππ& '
dict
ππ' +
[
ππ+ ,
$str
ππ, 2
]
ππ2 3
;
ππ3 4
opinion
∫∫ 
.
∫∫ 
score
∫∫ 
=
∫∫ 
Convert
∫∫  '
.
∫∫' (
ToInt32
∫∫( /
(
∫∫/ 0
dict
∫∫0 4
[
∫∫4 5
$str
∫∫5 <
]
∫∫< =
)
∫∫= >
;
∫∫> ?
opinion
ªª 
.
ªª 
id_place
ªª  
=
ªª! "
Convert
ªª# *
.
ªª* +
ToInt32
ªª+ 2
(
ªª2 3
dict
ªª3 7
[
ªª7 8
$str
ªª8 ?
]
ªª? @
)
ªª@ A
;
ªªA B
opinion
ºº 
.
ºº 
hour
ºº 
=
ºº 
(
ºº  
string
ºº  &
)
ºº& '
dict
ºº' +
[
ºº+ ,
$str
ºº, 2
]
ºº2 3
;
ºº3 4
opinion
ΩΩ 
.
ΩΩ 
student
ΩΩ 
=
ΩΩ  !
(
ΩΩ" #
string
ΩΩ# )
)
ΩΩ) *
dict
ΩΩ* .
[
ΩΩ. /
$str
ΩΩ/ 5
]
ΩΩ5 6
;
ΩΩ6 7
opinions
øø 
.
øø 
Add
øø 
(
øø 
opinion
øø  
)
øø  !
;
øø! "
}
¿¿ 
return
¡¡ 
opinions
¡¡ 
;
¡¡ 
}
¬¬ 	
}
√√ 
class≈≈ 
RootComment
≈≈ 
{∆∆ 
public
«« 

Comment
«« 
[
«« 
]
«« 
Data
«« 
{
«« 
get
«« 
;
««  
set
««! $
;
««$ %
}
««& '
}…… 
classÀÀ 
RootTokenRefresh
ÀÀ 
{ÃÃ 
public
ÕÕ 

string
ÕÕ 
token
ÕÕ 
{
ÕÕ 
get
ÕÕ 
;
ÕÕ 
set
ÕÕ "
;
ÕÕ" #
}
ÕÕ$ %
}œœ 
class—— 
	RootToken
—— 
{““ 
public
”” 

string
”” 
access_token
”” 
{
””  
get
””! $
;
””$ %
set
””& )
;
””) *
}
””+ ,
public
‘‘ 

string
‘‘ 
refresh_token
‘‘ 
{
‘‘  !
get
‘‘" %
;
‘‘% &
set
‘‘' *
;
‘‘* +
}
‘‘, -
public
÷÷ 

Token
÷÷ 
	makeToken
÷÷ 
(
÷÷ 
)
÷÷ 
{
◊◊ 
Token
ÿÿ 
token
ÿÿ 
=
ÿÿ 
new
ÿÿ 
Token
ÿÿ 
(
ÿÿ  
)
ÿÿ  !
;
ÿÿ! "
token
ŸŸ 
.
ŸŸ 
accessToken
ŸŸ 
=
ŸŸ 
access_token
ŸŸ (
;
ŸŸ( )
token
⁄⁄ 
.
⁄⁄ 
refreshToken
⁄⁄ 
=
⁄⁄ 
refresh_token
⁄⁄ *
;
⁄⁄* +
return
€€ 
token
€€ 
;
€€ 
}
‹‹ 
}›› ≈Ñ
eC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\Forum.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 
	ForumView "
:# $
Window% +
{ 
Student 
loggedStudent 
; 

MainWindow 
menu 
; 
int 
idDegree 
; 
bool 
isAdmin 
; 
List 
< 
Comment 
> 
comments 
; 
public   
TextBox    
ContenedorDelMensaje   +
{!! 	
get"" 
{"" 
return"" 
ContenidoDelMensaje"" ,
;"", -
}"". /
set## 
{## 
ContenidoDelMensaje## %
=##& '
value##( -
;##- .
}##/ 0
}$$ 	
public&& 
	ForumView&& 
(&& 
Student&&  
student&&! (
,&&( )

MainWindow&&* 4
menu&&5 9
)&&9 :
{'' 	
InitializeComponent(( 
(((  
)((  !
;((! "
this)) 
.)) 
loggedStudent)) 
=))  
student))! (
;))( )
lblForum** 
.** 
Content** 
=** 
this** #
.**# $
loggedStudent**$ 1
.**1 2
degree**2 8
;**8 9
this++ 
.++ 
menu++ 
=++ 
menu++ 
;++ 
lblUser,, 
.,, 
Content,, 
=,, 
student,, %
.,,% &
name,,& *
;,,* +
isAdmin-- 
=-- 
false-- 
;-- 
InitializeComments.. 
(.. 
)..  
;..  !
}// 	
public11 
	ForumView11 
(11 
Student11  
student11! (
,11( )

MainWindow11* 4
menu115 9
,119 :
int11; >
idDegree11? G
)11G H
{22 	
InitializeComponent33 
(33  
)33  !
;33! "
this44 
.44 
idDegree44 
=44 
idDegree44 $
;44$ %
isAdmin55 
=55 
true55 
;55 
this66 
.66 
loggedStudent66 
=66  
student66! (
;66( )
lblForum77 
.77 
Content77 
=77 
this77 #
.77# $
loggedStudent77$ 1
.771 2
name772 6
;776 7
this88 
.88 
menu88 
=88 
menu88 
;88 
lblUser99 
.99 
Content99 
=99 
student99 %
.99% &
name99& *
;99* +
btSend:: 
.:: 
	IsEnabled:: 
=:: 
false:: $
;::$ %
ContenidoDelMensaje;; 
.;;  
	IsEnabled;;  )
=;;* +
false;;, 1
;;;1 2
InitializeComments<< 
(<< 
)<<  
;<<  !
}== 	
private?? 
async?? 
void?? 
InitializeComments?? -
(??- .
)??. /
{@@ 	
PlantillaMensajeAA 
.AA 
ItemsAA "
.AA" #
ClearAA# (
(AA( )
)AA) *
;AA* +
ifBB 
(BB 
!BB 
isAdminBB 
)BB 
{CC 
ifDD 
(DD 
loggedStudentDD !
.DD! "
degreeDD" (
==DD) +
$strDD, >
)DD> ?
{EE 
idDegreeFF 
=FF 
(FF  
intFF  #
)FF# $
degreeIdFF$ ,
.FF, -
estadisticaFF- 8
+FF9 :
$numFF; <
;FF< =
}GG 
elseHH 
ifHH 
(HH 
loggedStudentHH &
.HH& '
degreeHH' -
==HH. 0
$strHH1 V
)HHV W
{II 
idDegreeJJ 
=JJ 
(JJ  
intJJ  #
)JJ# $
degreeIdJJ$ ,
.JJ, -&
tecnologiasComputacionalesJJ- G
+JJH I
$numJJJ K
;JJK L
}KK 
elseLL 
ifLL 
(LL 
loggedStudentLL &
.LL& '
degreeLL' -
==LL. 0
$strLL1 W
)LLW X
{MM 
idDegreeNN 
=NN 
(NN  
intNN  #
)NN# $
degreeIdNN$ ,
.NN, -
redesNN- 2
+NN3 4
$numNN5 6
;NN6 7
}OO 
elsePP 
{QQ 
idDegreeRR 
=RR 
(RR  
intRR  #
)RR# $
degreeIdRR$ ,
.RR, -
softwareRR- 5
+RR6 7
$numRR8 9
;RR9 :
}SS 
}TT 
ForumUU 
forumUU 
=UU 
newUU 
ForumUU #
(UU# $
)UU$ %
{UU& '
IdUU( *
=UU+ ,
idDegreeUU- 5
}UU6 7
;UU7 8
commentsVV 
=VV 
awaitVV 

ConnectionVV '
.VV' (
GetCommentsByForumVV( :
(VV: ;
forumVV; @
)VV@ A
;VVA B
foreachWW 
(WW 
varWW 
commentWW  
inWW! #
commentsWW$ ,
)WW, -
{XX 
stringYY 
nameYY 
;YY 
StudentZZ 
studentZZ 
=ZZ  !
awaitZZ" '

ConnectionZZ( 2
.ZZ2 3!
GetStudentByMatriculaZZ3 H
(ZZH I
commentZZI P
.ZZP Q
studentZZQ X
)ZZX Y
;ZZY Z
name[[ 
=[[ 
student[[ 
.[[ 
name[[ #
;[[# $
if]] 
(]] 
isAdmin]] 
||]] 
loggedStudent]] ,
.]], -

enrollment]]- 7
==]]8 :
comment]]; B
.]]B C
student]]C J
)]]J K
{^^ 
PlantillaMensaje__ $
.__$ %
Items__% *
.__* +
Add__+ .
(__. /
new__/ 2
{__3 4
Posicion__5 =
=__> ?
$str__@ H
,__H I
FondoElemento__J W
=__X Y
$str__Z a
,__a b
FondoCabecera__c p
=__q r
$str__s |
,__| }
Nombre	__~ Ñ
=
__Ö Ü
name
__á ã
,
__ã å
idComentario
__ç ô
=
__ö õ
comment
__ú £
.
__£ §
id
__§ ¶
,
__¶ ß
TiempoDeEnvio
__® µ
=
__∂ ∑
comment
__∏ ø
.
__ø ¿
date
__¿ ƒ
,
__ƒ ≈
MensajeEnviado
__∆ ‘
=
__’ ÷
comment
__◊ ﬁ
.
__ﬁ ﬂ
description
__ﬂ Í
}
__Î Ï
)
__Ï Ì
;
__Ì Ó
}aa 
elseaa 
{bb 
PlantillaMensajecc $
.cc$ %
Itemscc% *
.cc* +
Addcc+ .
(cc. /
newcc/ 2
{cc3 4
Posicioncc5 =
=cc> ?
$strcc@ H
,ccH I
FondoElementoccJ W
=ccX Y
$strccZ a
,cca b
FondoCabeceraccc p
=ccq r
$strccs |
,cc| }
Nombre	cc~ Ñ
=
ccÖ Ü
name
ccá ã
,
ccã å
TiempoDeEnvio
ccç ö
=
ccõ ú
comment
ccù §
.
cc§ •
date
cc• ©
,
cc© ™
MensajeEnviado
cc´ π
=
cc∫ ª
comment
ccº √
.
cc√ ƒ
description
ccƒ œ
}
cc– —
)
cc— “
;
cc“ ”
}ff 
ContenidoDelMensajegg #
.gg# $
Cleargg$ )
(gg) *
)gg* +
;gg+ ,
}hh 
}ii 	
privatekk 
asynckk 
voidkk 
btSend_Clickkk '
(kk' (
objectkk( .
senderkk/ 5
,kk5 6
RoutedEventArgskk7 F
ekkG H
)kkH I
{ll 	
ScrollerContenidomm 
.mm 
ScrollToBottommm ,
(mm, -
)mm- .
;mm. /
ifnn 
(nn 
!nn 
stringnn 
.nn 
IsNullOrWhiteSpacenn *
(nn* +
ContenidoDelMensajenn+ >
.nn> ?
Textnn? C
)nnC D
)nnD E
{oo 
stringpp 
mensajeFinalpp #
;pp# $
ifqq 
(qq  
ContenedorDelMensajeqq (
.qq( )
Textqq) -
.qq- .
Lengthqq. 4
>qq5 6
$numqq7 9
)qq9 :
{rr 
intss 
tamanioMensajess &
=ss' ( 
ContenedorDelMensajess) =
.ss= >
Textss> B
.ssB C
LengthssC I
;ssI J
mensajeFinaltt  
=tt! " 
ContenedorDelMensajett# 7
.tt7 8
Texttt8 <
.tt< =
	Substringtt= F
(ttF G
$numttG H
,ttH I
$numttJ L
)ttL M
;ttM N
mensajeFinaluu  
+=uu! #
Systemuu$ *
.uu* +
Environmentuu+ 6
.uu6 7
NewLineuu7 >
;uu> ?
mensajeFinalvv  
+=vv! # 
ContenedorDelMensajevv$ 8
.vv8 9
Textvv9 =
.vv= >
	Substringvv> G
(vvG H
$numvvH J
,vvJ K
tamanioMensajevvL Z
-vv[ \
$numvv] _
)vv_ `
;vv` a
}xx 
elseyy 
{zz 
mensajeFinal{{  
={{! " 
ContenedorDelMensaje{{# 7
.{{7 8
Text{{8 <
;{{< =
}|| 
try}} 
{~~ 
string 
mensaje "
=# $
mensajeFinal% 1
;1 2
Comment
ÄÄ 
comment
ÄÄ #
=
ÄÄ$ %
new
ÄÄ& )
Comment
ÄÄ* 1
(
ÄÄ1 2
)
ÄÄ2 3
;
ÄÄ3 4
comment
ÅÅ 
.
ÅÅ 
forum_id
ÅÅ $
=
ÅÅ% &
idDegree
ÅÅ' /
;
ÅÅ/ 0
comment
ÇÇ 
.
ÇÇ 
student
ÇÇ #
=
ÇÇ$ %
loggedStudent
ÇÇ& 3
.
ÇÇ3 4

enrollment
ÇÇ4 >
;
ÇÇ> ?
comment
ÉÉ 
.
ÉÉ 
date
ÉÉ  
=
ÉÉ! "
DateTime
ÉÉ# +
.
ÉÉ+ ,
Now
ÉÉ, /
.
ÉÉ/ 0
Date
ÉÉ0 4
.
ÉÉ4 5
ToString
ÉÉ5 =
(
ÉÉ= >
)
ÉÉ> ?
;
ÉÉ? @
comment
ÑÑ 
.
ÑÑ 
hour
ÑÑ  
=
ÑÑ! "
DateTime
ÑÑ# +
.
ÑÑ+ ,
Now
ÑÑ, /
.
ÑÑ/ 0
Hour
ÑÑ0 4
.
ÑÑ4 5
ToString
ÑÑ5 =
(
ÑÑ= >
)
ÑÑ> ?
;
ÑÑ? @
comment
ÖÖ 
.
ÖÖ 
description
ÖÖ '
=
ÖÖ( )
mensajeFinal
ÖÖ* 6
;
ÖÖ6 7
bool
ÜÜ 
correcto
ÜÜ !
=
ÜÜ" #
await
ÜÜ$ )

Connection
ÜÜ* 4
.
ÜÜ4 5
PostComment
ÜÜ5 @
(
ÜÜ@ A
new
ÜÜA D
Forum
ÜÜE J
(
ÜÜJ K
)
ÜÜK L
{
ÜÜM N
Id
ÜÜO Q
=
ÜÜR S
idDegree
ÜÜT \
}
ÜÜ] ^
,
ÜÜ^ _
comment
ÜÜ` g
)
ÜÜg h
;
ÜÜh i
;
ÜÜj k
if
áá 
(
áá 

Connection
áá "
.
áá" #
latestStatusCode
áá# 3
==
áá4 6
HttpStatusCode
áá7 E
.
ááE F
OK
ááF H
)
ááH I
{
àà 
PlantillaMensaje
ââ (
.
ââ( )
Items
ââ) .
.
ââ. /
Add
ââ/ 2
(
ââ2 3
new
ââ3 6
{
ââ7 8
Posicion
ââ9 A
=
ââB C
$str
ââD L
,
ââL M
FondoElemento
ââN [
=
ââ\ ]
$str
ââ^ e
,
ââe f
FondoCabecera
ââg t
=
ââu v
$strââw Ä
,ââÄ Å
NombreââÇ à
=âââ ä
loggedStudentââã ò
.ââò ô
nameââô ù
,ââù û
TiempoDeEnvioââü ¨
=ââ≠ Æ
commentââØ ∂
.ââ∂ ∑
dateââ∑ ª
,ââª º
MensajeEnviadoââΩ À
=ââÃ Õ
mensajeââŒ ’
}ââ÷ ◊
)ââ◊ ÿ
;ââÿ Ÿ!
ContenidoDelMensaje
ää +
.
ää+ ,
Clear
ää, 1
(
ää1 2
)
ää2 3
;
ää3 4
}
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç  
	exception
çç! *
)
çç* +
when
çç, 0
(
çç1 2
	exception
çç2 ;
is
çç< >
TimeoutException
çç? O
)
ççO P
{
éé 
this
êê 
.
êê 
Close
êê 
(
êê 
)
êê  
;
êê  !
}
ëë 
}
íí 
}
îî 	
private
ññ 
void
ññ 
btBack_Click
ññ !
(
ññ! "
object
ññ" (
sender
ññ) /
,
ññ/ 0
RoutedEventArgs
ññ1 @
e
ññA B
)
ññB C
{
óó 	
menu
òò 
.
òò 
Show
òò 
(
òò 
)
òò 
;
òò 
this
ôô 
.
ôô 
Close
ôô 
(
ôô 
)
ôô 
;
ôô 
}
öö 	
private
úú 
void
úú 
Window_Closed
úú "
(
úú" #
object
úú# )
sender
úú* 0
,
úú0 1
	EventArgs
úú2 ;
e
úú< =
)
úú= >
{
ùù 	
btBack_Click
ûû 
(
ûû 
new
ûû 
object
ûû #
(
ûû# $
)
ûû$ %
,
ûû% &
new
ûû' *
RoutedEventArgs
ûû+ :
(
ûû: ;
)
ûû; <
)
ûû< =
;
ûû= >
}
üü 	
private
°° 
async
°° 
void
°° $
Label_MouseDoubleClick
°° 1
(
°°1 2
object
°°2 8
sender
°°9 ?
,
°°? @"
MouseButtonEventArgs
°°A U
e
°°V W
)
°°W X
{
¢¢ 	
Label
££ 
label
££ 
=
££ 
(
££ 
Label
££  
)
££  !
sender
££! '
;
££' (
if
§§ 
(
§§ 
label
§§ 
.
§§ 
Content
§§ 
!=
§§  
null
§§! %
)
§§% &
{
•• 
try
¶¶ 
{
ßß 
Comment
®® 
comment
®® 
=
®®  !
new
®®" %
Comment
®®& -
(
®®- .
)
®®. /
;
®®/ 0
comment
©© 
.
©© 
forum_id
©©  
=
©©! "
idDegree
©©# +
;
©©+ ,
String
™™ 
id
™™ 
=
™™ 
label
™™ !
.
™™! "
Content
™™" )
.
™™) *
ToString
™™* 2
(
™™2 3
)
™™3 4
;
™™4 5
comment
´´ 
.
´´ 
id
´´ 
=
´´ 
Int32
´´ "
.
´´" #
Parse
´´# (
(
´´( )
id
´´) +
)
´´+ ,
;
´´, -
bool
¨¨ 
correcto
¨¨ 
=
¨¨ 
await
¨¨  %

Connection
¨¨& 0
.
¨¨0 1
DeleteComment
¨¨1 >
(
¨¨> ?
new
¨¨? B
Forum
¨¨C H
(
¨¨H I
)
¨¨I J
{
¨¨K L
Id
¨¨M O
=
¨¨P Q
idDegree
¨¨R Z
}
¨¨[ \
,
¨¨\ ]
comment
¨¨^ e
)
¨¨e f
;
¨¨f g
if
≠≠ 
(
≠≠ 

Connection
≠≠ 
.
≠≠ 
latestStatusCode
≠≠ /
==
≠≠0 2
HttpStatusCode
≠≠3 A
.
≠≠A B
	NoContent
≠≠B K
)
≠≠K L
{
ÆÆ 

MessageBox
ØØ 
.
ØØ 
Show
ØØ #
(
ØØ# $
$str
ØØ$ C
,
ØØC D
$str
ØØE [
,
ØØ[ \
MessageBoxButton
ØØ] m
.
ØØm n
OK
ØØn p
)
ØØp q
;
ØØq r 
InitializeComments
∞∞ &
(
∞∞& '
)
∞∞' (
;
∞∞( )
}
±± 
}
≤≤ 
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
	exception
≥≥ &
)
≥≥& '
when
≥≥( ,
(
≥≥- .
	exception
≥≥. 7
is
≥≥8 :
TimeoutException
≥≥; K
)
≥≥K L
{
¥¥ 
this
∂∂ 
.
∂∂ 
Close
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂ 
}
∑∑ 
}
∏∏ 
}
ππ 	
}
∫∫ 
}ªª √ 
jC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\ForumAdmin.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 

ForumAdmin #
:$ %
Window& ,
{ 
Student 
loggedStudent 
; 

MainWindow 
menu 
; 
public 

ForumAdmin 
( 
Student !
student" )
,) *

MainWindow+ 5
menu6 :
): ;
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
loggedStudent 
=  
student! (
;( )
this 
. 
menu 
= 
menu 
; 
lblUser 
. 
Content 
= 
student %
.% &
name& *
;* +
} 	
private!! 
void!! 
btExit_Click!! !
(!!! "
object!!" (
sender!!) /
,!!/ 0
RoutedEventArgs!!1 @
e!!A B
)!!B C
{"" 	
menu## 
.## 
Show## 
(## 
)## 
;## 
this$$ 
.$$ 
Close$$ 
($$ 
)$$ 
;$$ 
}%% 	
private'' 
void'' 
btStatistics_Click'' '
(''' (
object''( .
sender''/ 5
,''5 6
RoutedEventArgs''7 F
e''G H
)''H I
{(( 	
	ForumView)) 
forum)) 
=)) 
new)) !
	ForumView))" +
())+ ,
loggedStudent)), 9
,))9 :
menu)); ?
,))? @
$num))A B
)))B C
;))C D
forum** 
.** 
Show** 
(** 
)** 
;** 
this++ 
.++ 
Close++ 
(++ 
)++ 
;++ 
},, 	
private.. 
void.. 
btNetwork_Click.. $
(..$ %
object..% +
sender.., 2
,..2 3
RoutedEventArgs..4 C
e..D E
)..E F
{// 	
	ForumView00 
forum00 
=00 
new00 !
	ForumView00" +
(00+ ,
loggedStudent00, 9
,009 :
menu00; ?
,00? @
$num00A B
)00B C
;00C D
forum11 
.11 
Show11 
(11 
)11 
;11 
this22 
.22 
Close22 
(22 
)22 
;22 
}33 	
private55 
void55 
btTec_Click55  
(55  !
object55! '
sender55( .
,55. /
RoutedEventArgs550 ?
e55@ A
)55A B
{66 	
	ForumView77 
forum77 
=77 
new77 !
	ForumView77" +
(77+ ,
loggedStudent77, 9
,779 :
menu77; ?
,77? @
$num77A B
)77B C
;77C D
forum88 
.88 
Show88 
(88 
)88 
;88 
this99 
.99 
Close99 
(99 
)99 
;99 
}:: 	
private<< 
void<< 
btSoftware_Click<< %
(<<% &
object<<& ,
sender<<- 3
,<<3 4
RoutedEventArgs<<5 D
e<<E F
)<<F G
{== 	
	ForumView>> 
forum>> 
=>> 
new>> !
	ForumView>>" +
(>>+ ,
loggedStudent>>, 9
,>>9 :
menu>>; ?
,>>? @
$num>>A B
)>>B C
;>>C D
forum?? 
.?? 
Show?? 
(?? 
)?? 
;?? 
this@@ 
.@@ 
Close@@ 
(@@ 
)@@ 
;@@ 
}AA 	
}BB 
}CC ±Ø
kC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\ModifyPlace.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 
ModifyPlace $
:% &
Window' -
{ 
Student 
loggedStudent 
; 
Place 
place 
; 
string 
category 
; 
string 
imageSource 
= 
$str !
;! "
public 
ModifyPlace 
( 
Student "
loggedStudent# 0
,0 1
Place2 7
place8 =
,= >
string? E
categoryF N
)N O
{ 	
InitializeComponent 
(  
)  !
;! "
this   
.   
loggedStudent   
=    
loggedStudent  ! .
;  . /
this!! 
.!! 
place!! 
=!! 
place!! 
;!! 
this"" 
."" 
category"" 
="" 
category"" $
;""$ %
InitializePlace## 
(## 
)## 
;## 
}$$ 	
private&& 
void&& 
InitializePlace&& $
(&&$ %
)&&% &
{'' 	
tbName(( 
.(( 
Text(( 
=(( 
place(( 
.((  
name((  $
;(($ %

tbLocation)) 
.)) 
Text)) 
=)) 
place)) #
.))# $
address))$ +
;))+ ,

tbServices** 
.** 
Text** 
=** 
place** #
.**# $
services**$ ,
;**, -
image++ 
.++ 
Source++ 
=++ 
Utils++  
.++  !
ConvertBytesToImage++! 4
(++4 5
Convert++5 <
.++< =
FromBase64String++= M
(++M N
place++N S
.++S T
image++T Y
)++Y Z
)++Z [
;++[ \
if,, 
(,, 
place,, 
.,, 

type_place,,  
==,,! #
$str,,$ /
),,/ 0
{-- 
cbType.. 
... 
SelectedIndex.. $
=..% &
$num..' (
;..( )
}// 
else// 
if// 
(// 
place// 
.// 

type_place// '
==//( *
$str//+ 3
)//3 4
{00 
cbType11 
.11 
SelectedIndex11 $
=11% &
$num11' (
;11( )
}22 
else22 
{33 
cbType44 
.44 
SelectedIndex44 $
=44% &
$num44' (
;44( )
}55 
if66 
(66 
place66 
.66 
status66 
==66 
StatusPlace66  +
.66+ ,
aprobado66, 4
)664 5
{77 
cbStatus88 
.88 
SelectedIndex88 &
=88' (
$num88) *
;88* +
}99 
else:: 
{;; 
cbStatus<< 
.<< 
SelectedIndex<< &
=<<' (
$num<<) *
;<<* +
}== 
}>> 	
private@@ 
void@@ 
btBack_Click@@ !
(@@! "
object@@" (
sender@@) /
,@@/ 0
RoutedEventArgs@@1 @
e@@A B
)@@B C
{AA 	
	PlaceListBB 
	placeListBB 
=BB  !
newBB" %
	PlaceListBB& /
(BB/ 0
categoryBB0 8
,BB8 9
loggedStudentBB: G
)BBG H
;BBH I
	placeListCC 
.CC 
ShowCC 
(CC 
)CC 
;CC 
thisDD 
.DD 
CloseDD 
(DD 
)DD 
;DD 
}EE 	
privateGG 
asyncGG 
voidGG 
btSave_ClickGG '
(GG' (
objectGG( .
senderGG/ 5
,GG5 6
RoutedEventArgsGG7 F
eGGG H
)GGH I
{HH 	
stringII 
timeII 
=II 
$strII 
;II 
ifJJ 
(JJ 
StringJJ 
.JJ 
IsNullOrWhiteSpaceJJ )
(JJ) *
cbTypeJJ* 0
.JJ0 1
TextJJ1 5
)JJ5 6
||JJ7 9
StringJJ: @
.JJ@ A
IsNullOrWhiteSpaceJJA S
(JJS T
tbNameJJT Z
.JJZ [
TextJJ[ _
)JJ_ `
||JJa c
StringJJd j
.JJj k
IsNullOrWhiteSpaceJJk }
(JJ} ~

tbLocation	JJ~ à
.
JJà â
Text
JJâ ç
)
JJç é
||
JJè ë
String
JJí ò
.
JJò ô 
IsNullOrWhiteSpace
JJô ´
(
JJ´ ¨
time
JJ¨ ∞
)
JJ∞ ±
)
JJ± ≤
{KK 

MessageBoxLL 
.LL 
ShowLL 
(LL  
$strLL  T
,LLT U
$strLLV e
,LLe f
MessageBoxButtonLLg w
.LLw x
OKLLx z
)LLz {
;LL{ |
}MM 
elseNN 
{OO 
stringPP 

imagePlacePP !
;PP! "
ifQQ 
(QQ 
imageSourceQQ 
==QQ  "
$strQQ# '
)QQ' (
{RR 

imagePlaceSS 
=SS  
placeSS! &
.SS& '
imageSS' ,
;SS, -
}TT 
elseTT 
{UU 

imagePlaceVV 
=VV  
ConvertVV! (
.VV( )
ToBase64StringVV) 7
(VV7 8
UtilsVV8 =
.VV= >
ConvertImageToBytesVV> Q
(VVQ R
imageSourceVVR ]
)VV] ^
)VV^ _
;VV_ `
}WW 
StatusPlaceXX 
	newStatusXX %
;XX% &
ifYY 
(YY 
cbStatusYY 
.YY 
SelectedIndexYY *
==YY+ -
$numYY. /
)YY/ 0
{ZZ 
	newStatus[[ 
=[[ 
StatusPlace[[  +
.[[+ ,
aprobado[[, 4
;[[4 5
}\\ 
else\\ 
{]] 
	newStatus^^ 
=^^ 
StatusPlace^^  +
.^^+ ,
	pendiente^^, 5
;^^5 6
}`` 
Placeaa 
placeModifiedaa #
=aa$ %
newaa& )
Placeaa* /
(aa/ 0
)aa0 1
{bb 
namecc 
=cc 
tbNamecc !
.cc! "
Textcc" &
,cc& '
addressdd 
=dd 

tbLocationdd (
.dd( )
Textdd) -
,dd- .
servicesee 
=ee 

tbServicesee )
.ee) *
Textee* .
,ee. /
scheduleff 
=ff 
timeff #
,ff# $
statusgg 
=gg 
	newStatusgg &
,gg& '

type_placehh 
=hh  
cbTypehh! '
.hh' (
Texthh( ,
,hh, -
imageii 
=ii 

imagePlaceii &
}ll 
;ll 
boolmm 
	respuestamm 
=mm  
awaitmm! &

Connectionmm' 1
.mm1 2
PutPlacemm2 :
(mm: ;
placeModifiedmm; H
,mmH I
placemmI N
.mmN O
idmmO Q
)mmQ R
;mmR S
ifnn 
(nn 

Connectionnn 
.nn 
latestStatusCodenn /
==nn0 2
HttpStatusCodenn3 A
.nnA B
OKnnB D
)nnD E
{oo 

MessageBoxpp 
.pp 
Showpp #
(pp# $
$strpp$ M
,ppM N
$strppO o
,ppo p
MessageBoxButton	ppq Å
.
ppÅ Ç
OK
ppÇ Ñ
)
ppÑ Ö
;
ppÖ Ü
btBack_Clickqq  
(qq  !
newqq! $
objectqq% +
(qq+ ,
)qq, -
,qq- .
newqq/ 2
RoutedEventArgsqq3 B
(qqB C
)qqC D
)qqD E
;qqE F
}rr 
elsess 
ifss 
(ss 

Connectionss #
.ss# $
latestStatusCodess$ 4
==ss5 7
HttpStatusCodess8 F
.ssF G

BadRequestssG Q
)ssQ R
{tt 

MessageBoxuu 
.uu 
Showuu #
(uu# $
$struu$ J
,uuJ K
$struuL e
,uue f
MessageBoxButtonuug w
.uuw x
OKuux z
)uuz {
;uu{ |
}vv 
Consoleww 
.ww 
	WriteLineww !
(ww! "

Connectionww" ,
.ww, -
latestStatusCodeww- =
)ww= >
;ww> ?
}xx 
}zz 	
private|| 
string|| "
GenerateScheduleString|| -
(||- .
)||. /
{}} 	
string~~ 
time~~ 
=~~ 
$str~~ 
;~~ 
if 
( 
cbMonday 
. 
	IsChecked "
==# %
true& *
&&+ -
!. /
String/ 5
.5 6
IsNullOrWhiteSpace6 H
(H I
tpMondayStartI V
.V W
ValueW \
.\ ]
ToString] e
(e f
)f g
)g h
&&i k
!l m
Stringm s
.s t
IsNullOrWhiteSpace	t Ü
(
Ü á
tpMondayEnd
á í
.
í ì
Value
ì ò
.
ò ô
ToString
ô °
(
° ¢
)
¢ £
)
£ §
)
§ •
{
ÄÄ 
time
ÅÅ 
+=
ÅÅ 
$str
ÅÅ !
+
ÅÅ" #
tpMondayStart
ÅÅ$ 1
.
ÅÅ1 2
Value
ÅÅ2 7
.
ÅÅ7 8
ToString
ÅÅ8 @
(
ÅÅ@ A
)
ÅÅA B
.
ÅÅB C
	Substring
ÅÅC L
(
ÅÅL M
$num
ÅÅM O
,
ÅÅO P
$num
ÅÅQ S
)
ÅÅS T
+
ÅÅU V
$str
ÅÅW \
+
ÅÅ] ^
tpMondayEnd
ÅÅ_ j
.
ÅÅj k
Value
ÅÅk p
.
ÅÅp q
ToString
ÅÅq y
(
ÅÅy z
)
ÅÅz {
.
ÅÅ{ |
	SubstringÅÅ| Ö
(ÅÅÖ Ü
$numÅÅÜ à
,ÅÅà â
$numÅÅä å
)ÅÅå ç
+ÅÅé è
EnvironmentÅÅê õ
.ÅÅõ ú
NewLineÅÅú £
;ÅÅ£ §
}
ÇÇ 
if
ÉÉ 
(
ÉÉ 
	cbTuesday
ÉÉ 
.
ÉÉ 
	IsChecked
ÉÉ #
==
ÉÉ$ &
true
ÉÉ' +
&&
ÉÉ, .
!
ÉÉ/ 0
String
ÉÉ0 6
.
ÉÉ6 7 
IsNullOrWhiteSpace
ÉÉ7 I
(
ÉÉI J
tpTuesdayStart
ÉÉJ X
.
ÉÉX Y
Value
ÉÉY ^
.
ÉÉ^ _
ToString
ÉÉ_ g
(
ÉÉg h
)
ÉÉh i
)
ÉÉi j
&&
ÉÉk m
!
ÉÉn o
String
ÉÉo u
.
ÉÉu v!
IsNullOrWhiteSpaceÉÉv à
(ÉÉà â
tpTuesdayEndÉÉâ ï
.ÉÉï ñ
ValueÉÉñ õ
.ÉÉõ ú
ToStringÉÉú §
(ÉÉ§ •
)ÉÉ• ¶
)ÉÉ¶ ß
)ÉÉß ®
{
ÑÑ 
time
ÖÖ 
+=
ÖÖ 
$str
ÖÖ "
+
ÖÖ# $
tpTuesdayStart
ÖÖ% 3
.
ÖÖ3 4
Value
ÖÖ4 9
.
ÖÖ9 :
ToString
ÖÖ: B
(
ÖÖB C
)
ÖÖC D
.
ÖÖD E
	Substring
ÖÖE N
(
ÖÖN O
$num
ÖÖO Q
,
ÖÖQ R
$num
ÖÖS U
)
ÖÖU V
+
ÖÖW X
$str
ÖÖY ^
+
ÖÖ_ `
tpTuesdayEnd
ÖÖa m
.
ÖÖm n
Value
ÖÖn s
.
ÖÖs t
ToString
ÖÖt |
(
ÖÖ| }
)
ÖÖ} ~
.
ÖÖ~ 
	SubstringÖÖ à
(ÖÖà â
$numÖÖâ ã
,ÖÖã å
$numÖÖç è
)ÖÖè ê
+ÖÖë í
EnvironmentÖÖì û
.ÖÖû ü
NewLineÖÖü ¶
;ÖÖ¶ ß
}
ÜÜ 
if
áá 
(
áá 
cbWednesday
áá 
.
áá 
	IsChecked
áá %
==
áá& (
true
áá) -
&&
áá. 0
!
áá1 2
String
áá2 8
.
áá8 9 
IsNullOrWhiteSpace
áá9 K
(
ááK L
tpWednesdayStart
ááL \
.
áá\ ]
Value
áá] b
.
ááb c
ToString
áác k
(
áák l
)
áál m
)
áám n
&&
ááo q
!
áár s
String
áás y
.
ááy z!
IsNullOrWhiteSpaceááz å
(ááå ç
tpWednesdayEndááç õ
.ááõ ú
Valueááú °
.áá° ¢
ToStringáá¢ ™
(áá™ ´
)áá´ ¨
)áá¨ ≠
)áá≠ Æ
{
àà 
time
ââ 
+=
ââ 
$str
ââ %
+
ââ& '
tpWednesdayStart
ââ( 8
.
ââ8 9
Value
ââ9 >
.
ââ> ?
ToString
ââ? G
(
ââG H
)
ââH I
.
ââI J
	Substring
ââJ S
(
ââS T
$num
ââT V
,
ââV W
$num
ââX Z
)
ââZ [
+
ââ\ ]
$str
ââ^ c
+
ââd e
tpWednesdayEnd
ââf t
.
âât u
Value
ââu z
.
ââz {
ToStringââ{ É
(ââÉ Ñ
)ââÑ Ö
.ââÖ Ü
	SubstringââÜ è
(ââè ê
$numââê í
,ââí ì
$numââî ñ
)ââñ ó
+ââò ô
Environmentââö •
.ââ• ¶
NewLineââ¶ ≠
;ââ≠ Æ
}
ää 
if
ãã 
(
ãã 

cbThursday
ãã 
.
ãã 
	IsChecked
ãã $
==
ãã% '
true
ãã( ,
&&
ãã- /
!
ãã0 1
String
ãã1 7
.
ãã7 8 
IsNullOrWhiteSpace
ãã8 J
(
ããJ K
tpThursdayStart
ããK Z
.
ããZ [
Value
ãã[ `
.
ãã` a
ToString
ããa i
(
ããi j
)
ããj k
)
ããk l
&&
ããm o
!
ããp q
String
ããq w
.
ããw x!
IsNullOrWhiteSpaceããx ä
(ããä ã
tpThursdayEndããã ò
.ããò ô
Valueããô û
.ããû ü
ToStringããü ß
(ããß ®
)ãã® ©
)ãã© ™
)ãã™ ´
{
åå 
time
çç 
+=
çç 
$str
çç "
+
çç# $
tpThursdayStart
çç% 4
.
çç4 5
Value
çç5 :
.
çç: ;
ToString
çç; C
(
ççC D
)
ççD E
.
ççE F
	Substring
ççF O
(
ççO P
$num
ççP R
,
ççR S
$num
ççT V
)
ççV W
+
ççX Y
$str
ççZ _
+
çç` a
tpThursdayEnd
ççb o
.
çço p
Value
ççp u
.
ççu v
ToString
ççv ~
(
çç~ 
)çç Ä
.ççÄ Å
	SubstringççÅ ä
(ççä ã
$numççã ç
,ççç é
$numççè ë
)ççë í
+ççì î
Environmentççï †
.çç† °
NewLineçç° ®
;çç® ©
}
éé 
if
èè 
(
èè 
cbFriday
èè 
.
èè 
	IsChecked
èè "
==
èè# %
true
èè& *
&&
èè+ -
!
èè. /
String
èè/ 5
.
èè5 6 
IsNullOrWhiteSpace
èè6 H
(
èèH I
tpFridayEnd
èèI T
.
èèT U
Value
èèU Z
.
èèZ [
ToString
èè[ c
(
èèc d
)
èèd e
)
èèe f
&&
èèg i
!
èèj k
String
èèk q
.
èèq r!
IsNullOrWhiteSpaceèèr Ñ
(èèÑ Ö
tpFridayStartèèÖ í
.èèí ì
Valueèèì ò
.èèò ô
ToStringèèô °
(èè° ¢
)èè¢ £
)èè£ §
)èè§ •
{
êê 
time
ëë 
+=
ëë 
$str
ëë #
+
ëë$ %
tpFridayStart
ëë& 3
.
ëë3 4
Value
ëë4 9
.
ëë9 :
ToString
ëë: B
(
ëëB C
)
ëëC D
.
ëëD E
	Substring
ëëE N
(
ëëN O
$num
ëëO Q
,
ëëQ R
$num
ëëS U
)
ëëU V
+
ëëW X
$str
ëëY ^
+
ëë_ `
tpFridayEnd
ëëa l
.
ëël m
Value
ëëm r
.
ëër s
ToString
ëës {
(
ëë{ |
)
ëë| }
.
ëë} ~
	Substringëë~ á
(ëëá à
$numëëà ä
,ëëä ã
$numëëå é
)ëëé è
+ëëê ë
Environmentëëí ù
.ëëù û
NewLineëëû •
;ëë• ¶
}
íí 
if
ìì 
(
ìì 

cbSaturday
ìì 
.
ìì 
	IsChecked
ìì $
==
ìì% '
true
ìì( ,
&&
ìì- /
!
ìì0 1
String
ìì1 7
.
ìì7 8 
IsNullOrWhiteSpace
ìì8 J
(
ììJ K
tpSaturdayStart
ììK Z
.
ììZ [
Value
ìì[ `
.
ìì` a
ToString
ììa i
(
ììi j
)
ììj k
)
ììk l
&&
ììm o
!
ììp q
String
ììq w
.
ììw x!
IsNullOrWhiteSpaceììx ä
(ììä ã
tpSaturdayEndììã ò
.ììò ô
Valueììô û
.ììû ü
ToStringììü ß
(ììß ®
)ìì® ©
)ìì© ™
)ìì™ ´
{
îî 
time
ïï 
+=
ïï 
$str
ïï "
+
ïï# $
tpSaturdayStart
ïï% 4
.
ïï4 5
Value
ïï5 :
.
ïï: ;
ToString
ïï; C
(
ïïC D
)
ïïD E
.
ïïE F
	Substring
ïïF O
(
ïïO P
$num
ïïP R
,
ïïR S
$num
ïïT V
)
ïïV W
+
ïïX Y
$str
ïïZ _
+
ïï` a
tpSaturdayEnd
ïïb o
.
ïïo p
Value
ïïp u
.
ïïu v
ToString
ïïv ~
(
ïï~ 
)ïï Ä
.ïïÄ Å
	SubstringïïÅ ä
(ïïä ã
$numïïã ç
,ïïç é
$numïïè ë
)ïïë í
+ïïì î
Environmentïïï †
.ïï† °
NewLineïï° ®
;ïï® ©
}
ññ 
if
óó 
(
óó 
cbSunday
óó 
.
óó 
	IsChecked
óó "
==
óó# %
true
óó& *
&&
óó+ -
!
óó. /
String
óó/ 5
.
óó5 6 
IsNullOrWhiteSpace
óó6 H
(
óóH I
tpSundayStart
óóI V
.
óóV W
Value
óóW \
.
óó\ ]
ToString
óó] e
(
óóe f
)
óóf g
)
óóg h
&&
óói k
!
óól m
String
óóm s
.
óós t!
IsNullOrWhiteSpaceóót Ü
(óóÜ á
tpSundayEndóóá í
.óóí ì
Valueóóì ò
.óóò ô
ToStringóóô °
(óó° ¢
)óó¢ £
)óó£ §
)óó§ •
{
òò 
time
ôô 
+=
ôô 
$str
ôô #
+
ôô$ %
tpSundayStart
ôô& 3
.
ôô3 4
Value
ôô4 9
.
ôô9 :
ToString
ôô: B
(
ôôB C
)
ôôC D
.
ôôD E
	Substring
ôôE N
(
ôôN O
$num
ôôO Q
,
ôôQ R
$num
ôôS U
)
ôôU V
+
ôôW X
$str
ôôY ^
+
ôô_ `
tpSundayEnd
ôôa l
.
ôôl m
Value
ôôm r
.
ôôr s
ToString
ôôs {
(
ôô{ |
)
ôô| }
.
ôô} ~
	Substringôô~ á
(ôôá à
$numôôà ä
,ôôä ã
$numôôå é
)ôôé è
+ôôê ë
Environmentôôí ù
.ôôù û
NewLineôôû •
;ôô• ¶
}
öö 
return
õõ 
time
õõ 
;
õõ 
}
úú 	
private
ûû 
void
ûû !
btSelectImage_Click
ûû (
(
ûû( )
object
ûû) /
sender
ûû0 6
,
ûû6 7
RoutedEventArgs
ûû8 G
e
ûûH I
)
ûûI J
{
üü 	
	Microsoft
†† 
.
†† 
Win32
†† 
.
†† 
OpenFileDialog
†† *
dialog
††+ 1
=
††2 3
new
††4 7
	Microsoft
††8 A
.
††A B
Win32
††B G
.
††G H
OpenFileDialog
††H V
(
††V W
)
††W X
;
††X Y
dialog
°° 
.
°° 

DefaultExt
°° 
=
°° 
$str
°°  &
;
°°& '
dialog
¢¢ 
.
¢¢ 
Filter
¢¢ 
=
¢¢ 
$str¢¢ Ä
;¢¢Ä Å
Nullable
££ 
<
££ 
bool
££ 
>
££ 
result
££ !
=
££" #
dialog
££$ *
.
££* +

ShowDialog
££+ 5
(
££5 6
)
££6 7
;
££7 8
if
§§ 
(
§§ 
result
§§ 
==
§§ 
true
§§ 
)
§§ 
{
•• 
var
¶¶ 
bitmap
¶¶ 
=
¶¶ 
new
¶¶  
BitmapImage
¶¶! ,
(
¶¶, -
)
¶¶- .
;
¶¶. /
imageSource
ßß 
=
ßß 
dialog
ßß $
.
ßß$ %
FileName
ßß% -
;
ßß- .
bitmap
®® 
.
®® 
	BeginInit
®®  
(
®®  !
)
®®! "
;
®®" #
bitmap
©© 
.
©© 
	UriSource
©©  
=
©©! "
new
©©# &
Uri
©©' *
(
©©* +
dialog
©©+ 1
.
©©1 2
FileName
©©2 :
)
©©: ;
;
©©; <
bitmap
™™ 
.
™™ 
DecodePixelHeight
™™ (
=
™™) *
$num
™™+ .
;
™™. /
bitmap
´´ 
.
´´ 
EndInit
´´ 
(
´´ 
)
´´  
;
´´  !
image
¨¨ 
.
¨¨ 
Source
¨¨ 
=
¨¨ 
bitmap
¨¨ %
;
¨¨% &
}
≠≠ 
}
ØØ 	
}
∞∞ 
}±±  ú
iC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\PlaceView.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 
	PlaceView "
:# $
Window% +
{ 
Student 
loggedStudent 
; 
String 
category 
; 
Place   
place   
;   
public!! 
TextBox!!  
ContenedorDelMensaje!! +
{"" 	
get## 
{## 
return## 
ContenidoDelMensaje## ,
;##, -
}##. /
set$$ 
{$$ 
ContenidoDelMensaje$$ %
=$$& '
value$$( -
;$$- .
}$$/ 0
}%% 	
public'' 
	PlaceView'' 
('' 
Place'' 
place'' $
,''$ %
Student''& -
loggedStudent''. ;
,''; <
String''< B
category''C K
)''K L
{(( 	
InitializeComponent)) 
())  
)))  !
;))! "
this** 
.** 
loggedStudent** 
=**  
loggedStudent**! .
;**. /
this++ 
.++ 
category++ 
=++ 
category++ $
;++$ %
lbUser,, 
.,, 
Content,, 
=,, 
loggedStudent,, *
.,,* +
name,,+ /
;,,/ 0
btUpdate-- 
.-- 
	IsEnabled-- 
=--  
false--! &
;--& '
btUpdate.. 
... 
Opacity.. 
=.. 
$num..  
;..  !
this// 
.// 
place// 
=// 
place// 
;// 
intializePlace00 
(00 
)00 
;00 
}11 	
private33 
async33 
void33 
intializeOpinions33 ,
(33, -
)33. /
{44 	
List66 
<66 
Opinion66 
>66 
opinions66 "
=66# $
await66% *

Connection66+ 5
.665 6
GetOpinionsByPlace666 H
(66H I
place66I N
)66N O
;66O P
foreach77 
(77 
var77 
opinion77  
in77! #
opinions77$ ,
)77, -
{77. /
string88 
name88 
;88 
string99 

puntuacion99 !
=99" #
$str99$ &
;99& '
if:: 
(:: 
opinion:: 
.:: 
score:: !
==::" $
$num::% &
)::& '
{;; 

puntuacion<< 
=<<  
$str<<! (
;<<( )
}== 
if>> 
(>> 
opinion>> 
.>> 
score>> !
==>>" $
$num>>% &
)>>& '
{?? 

puntuacion@@ 
=@@  
$str@@! (
;@@( )
}AA 
ifBB 
(BB 
opinionBB 
.BB 
scoreBB !
==BB" $
$numBB% &
)BB& '
{CC 

puntuacionDD 
=DD  
$strDD! (
;DD( )
}EE 
ifFF 
(FF 
opinionFF 
.FF 
scoreFF !
==FF" $
$numFF% &
)FF& '
{GG 

puntuacionHH 
=HH  
$strHH! (
;HH( )
}II 
ifJJ 
(JJ 
opinionJJ 
.JJ 
scoreJJ !
==JJ" $
$numJJ% &
)JJ& '
{KK 

puntuacionLL 
=LL  
$strLL! )
;LL) *
}MM 
ifNN 
(NN 
(NN 
(NN 
opinionNN 
.NN 
studentNN %
)NN% &
.NN& '
	SubstringNN' 0
(NN0 1
$numNN1 2
,NN2 3
$numNN4 5
)NN5 6
.NN6 7
ToUpperNN7 >
(NN> ?
)NN? @
==NNA C
$strNND H
)NNH I
)NNI J
{OO 
StudentPP 
studentPP #
=PP$ %
awaitPP& +

ConnectionPP, 6
.PP6 7!
GetStudentByMatriculaPP7 L
(PPL M
opinionPPM T
.PPT U
studentPPU \
)PP\ ]
;PP] ^
nameQQ 
=QQ 
studentQQ "
.QQ" #
nameQQ# '
;QQ' (
}RR 
elseSS 
{TT 
nameUU 
=UU 
$strUU *
;UU* +
}VV 
stringWW 
userWW 
;WW 
userYY 
=YY 
loggedStudentYY (
.YY( )

enrollmentYY) 3
;YY3 4
if]] 
(]] 
loggedStudent]] !
.]]! "
rol]]" %
==]]& (
$str]]) 8
||]]9 ;
opinion]]< C
.]]C D
student]]D K
==]]L N
user]]O S
)]]S T
{]]U V
PlantillaMensaje^^ $
.^^$ %
Items^^% *
.^^* +
Add^^+ .
(^^. /
new^^/ 2
{^^3 4
Posicion^^5 =
=^^> ?
$str^^@ G
,^^G H
FondoElemento^^I V
=^^W X
$str^^Y `
,^^` a
FondoCabecera^^b o
=^^p q
$str^^r {
,^^{ |
Nombre	^^} É
=
^^Ñ Ö
name
^^Ü ä
,
^^ä ã
TiempoDeEnvio
^^å ô
=
^^ö õ
opinion
^^ú £
.
^^£ §
date
^^§ ®
,
^^® ©
MensajeEnviado
^^™ ∏
=
^^π ∫
opinion
^^ª ¬
.
^^¬ √
description
^^√ Œ
,
^^Œ œ

Puntuacion
^^– ⁄
=
^^€ ‹
$str
^^› Î
+
^^Ï Ì

puntuacion
^^Ó ¯
,
^^¯ ˘
	idOpinion
^^˙ É
=
^^Ñ Ö
opinion
^^Ü ç
.
^^ç é
id
^^é ê
}
^^ë í
)
^^í ì
;
^^ì î
}__ 
else`` 
{aa 
PlantillaMensajebb $
.bb$ %
Itemsbb% *
.bb* +
Addbb+ .
(bb. /
newbb/ 2
{bb3 4
Posicionbb5 =
=bb> ?
$strbb@ G
,bbG H
FondoElementobbI V
=bbW X
$strbbY `
,bb` a
FondoCabecerabbb o
=bbp q
$strbbr {
,bb{ |
Nombre	bb} É
=
bbÑ Ö
name
bbÜ ä
,
bbä ã
TiempoDeEnvio
bbå ô
=
bbö õ
opinion
bbú £
.
bb£ §
date
bb§ ®
,
bb® ©
MensajeEnviado
bb™ ∏
=
bbπ ∫
opinion
bbª ¬
.
bb¬ √
description
bb√ Œ
,
bbŒ œ

Puntuacion
bb– ⁄
=
bb€ ‹
$str
bb› Î
+
bbÏ Ì

puntuacion
bbÓ ¯
}
bb˘ ˙
)
bb˙ ˚
;
bb˚ ¸
}cc 
ContenidoDelMensajedd #
.dd# $
Cleardd$ )
(dd) *
)dd* +
;dd+ ,
}ee 
}gg 	
privateii 
asyncii 
voidii 
intializePlaceii )
(ii) *
)ii* +
{jj 	

lbSchedulekk 
.kk 
Textkk 
=kk 
placekk #
.kk# $
schedulekk$ ,
;kk, -
cbStarll 
.ll 
SelectedIndexll  
=ll! "
$numll# $
;ll$ %
lbNamemm 
.mm 
Contentmm 
=mm 
placemm "
.mm" #
namemm# '
;mm' (
lbLocatenn 
.nn 
Textnn 
=nn 
placenn !
.nn! "
addressnn" )
;nn) *

lbServicesoo 
.oo 
Textoo 
=oo 
placeoo #
.oo# $
servicesoo$ ,
;oo, -
imgPlacepp 
.pp 
Sourcepp 
=pp 
Utilspp #
.pp# $
ConvertBytesToImagepp$ 7
(pp7 8
Convertpp8 ?
.pp? @
FromBase64Stringpp@ P
(ppP Q
placeppQ V
.ppV W
imageppW \
)pp\ ]
)pp] ^
;pp^ _
intializeOpinionsqq 
(qq 
)qq 
;qq  
}rr 	
privatess 
voidss 
btReturn_Clickss #
(ss# $
objectss$ *
senderss+ 1
,ss1 2
RoutedEventArgsss3 B
essC D
)ssD E
{tt 	
	PlaceListuu 
	placeListuu #
=uu$ %
newuu& )
	PlaceListuu* 3
(uu3 4
categoryuu4 <
,uu< =
loggedStudentuu> K
)uuK L
;uuL M
	placeListvv 
.vv 
Showvv 
(vv 
)vv  
;vv  !
thisww 
.ww 
Closeww 
(ww 
)ww 
;ww 
}{{ 	
private}} 
async}} 
void}} 
BotonEnviar_Click}} ,
(}}, -
object}}- 3
sender}}4 :
,}}: ;
RoutedEventArgs}}< K
e}}L M
)}}M N
{~~ 	
ScrollerContenido 
. 
ScrollToBottom ,
(, -
)- .
;. /
if
ÄÄ 
(
ÄÄ 
!
ÄÄ 
string
ÄÄ 
.
ÄÄ  
IsNullOrWhiteSpace
ÄÄ *
(
ÄÄ* +!
ContenidoDelMensaje
ÄÄ+ >
.
ÄÄ> ?
Text
ÄÄ? C
)
ÄÄC D
)
ÄÄD E
{
ÅÅ 
string
ÇÇ 
mensajeFinal
ÇÇ #
;
ÇÇ# $
if
ÉÉ 
(
ÉÉ "
ContenedorDelMensaje
ÉÉ (
.
ÉÉ( )
Text
ÉÉ) -
.
ÉÉ- .
Length
ÉÉ. 4
>
ÉÉ5 6
$num
ÉÉ7 9
)
ÉÉ9 :
{
ÑÑ 
int
ÖÖ 
tamanioMensaje
ÖÖ &
=
ÖÖ' ("
ContenedorDelMensaje
ÖÖ) =
.
ÖÖ= >
Text
ÖÖ> B
.
ÖÖB C
Length
ÖÖC I
;
ÖÖI J
mensajeFinal
ÜÜ  
=
ÜÜ! ""
ContenedorDelMensaje
ÜÜ# 7
.
ÜÜ7 8
Text
ÜÜ8 <
.
ÜÜ< =
	Substring
ÜÜ= F
(
ÜÜF G
$num
ÜÜG H
,
ÜÜH I
$num
ÜÜJ L
)
ÜÜL M
;
ÜÜM N
mensajeFinal
áá  
+=
áá! #
System
áá$ *
.
áá* +
Environment
áá+ 6
.
áá6 7
NewLine
áá7 >
;
áá> ?
mensajeFinal
àà  
+=
àà! #"
ContenedorDelMensaje
àà$ 8
.
àà8 9
Text
àà9 =
.
àà= >
	Substring
àà> G
(
ààG H
$num
ààH J
,
ààJ K
tamanioMensaje
ààL Z
-
àà[ \
$num
àà] _
)
àà_ `
;
àà` a
}
ää 
else
ãã 
{
åå 
mensajeFinal
çç  
=
çç! ""
ContenedorDelMensaje
çç# 7
.
çç7 8
Text
çç8 <
;
çç< =
}
éé 
try
èè 
{
êê 
string
ëë 
mensaje
ëë "
=
ëë# $
mensajeFinal
ëë% 1
;
ëë1 2
ComboBoxItem
íí  
	comboItem
íí! *
=
íí+ ,
(
íí- .
ComboBoxItem
íí. :
)
íí: ;
cbStar
íí; A
.
ííA B
SelectedItem
ííB N
;
ííN O
string
ìì 

puntuacion
ìì %
=
ìì& '
	comboItem
ìì( 1
.
ìì1 2
Content
ìì2 9
.
ìì9 :
ToString
ìì: B
(
ììB C
)
ììC D
;
ììD E
Opinion
îî 
opinion
îî #
=
îî$ %
new
îî& )
Opinion
îî* 1
(
îî1 2
)
îî2 3
;
îî3 4
opinion
ïï 
.
ïï 
id_place
ïï $
=
ïï% &
place
ïï' ,
.
ïï, -
id
ïï- /
;
ïï/ 0
opinion
óó 
.
óó  
student
óó  '
=
óó( )
loggedStudent
óó* 7
.
óó7 8

enrollment
óó8 B
;
óóB C
opinion
öö 
.
öö 
date
öö  
=
öö! "
DateTime
öö# +
.
öö+ ,
Now
öö, /
.
öö/ 0
Date
öö0 4
.
öö4 5
ToString
öö5 =
(
öö= >
)
öö> ?
;
öö? @
opinion
õõ 
.
õõ 
hour
õõ  
=
õõ! "
DateTime
õõ# +
.
õõ+ ,
Now
õõ, /
.
õõ/ 0
Hour
õõ0 4
.
õõ4 5
ToString
õõ5 =
(
õõ= >
)
õõ> ?
;
õõ? @
opinion
úú 
.
úú 
description
úú '
=
úú( )
mensajeFinal
úú* 6
;
úú6 7
int
ùù 
puntuacionNum
ùù %
=
ùù& '
$num
ùù( )
;
ùù) *
if
ûû 
(
ûû 

puntuacion
ûû "
.
ûû" #
Length
ûû# )
==
ûû* ,
$num
ûû- .
)
ûû. /
{
üü 
puntuacionNum
†† %
=
††& '
$num
††( )
;
††) *
}
°° 
if
¢¢ 
(
¢¢ 

puntuacion
¢¢ "
.
¢¢" #
Length
¢¢# )
==
¢¢* ,
$num
¢¢- .
)
¢¢. /
{
££ 
puntuacionNum
§§ %
=
§§& '
$num
§§( )
;
§§) *
}
•• 
if
¶¶ 
(
¶¶ 

puntuacion
¶¶ "
.
¶¶" #
Length
¶¶# )
==
¶¶* ,
$num
¶¶- .
)
¶¶. /
{
ßß 
puntuacionNum
®® %
=
®®& '
$num
®®( )
;
®®) *
}
©© 
if
™™ 
(
™™ 

puntuacion
™™ "
.
™™" #
Length
™™# )
==
™™* ,
$num
™™- .
)
™™. /
{
´´ 
puntuacionNum
¨¨ %
=
¨¨& '
$num
¨¨( )
;
¨¨) *
}
≠≠ 
if
ÆÆ 
(
ÆÆ 

puntuacion
ÆÆ "
.
ÆÆ" #
Length
ÆÆ# )
==
ÆÆ* ,
$num
ÆÆ- .
)
ÆÆ. /
{
ØØ 
puntuacionNum
∞∞ %
=
∞∞& '
$num
∞∞( )
;
∞∞) *
}
±± 
opinion
≤≤ 
.
≤≤ 
score
≤≤ !
=
≤≤" #
puntuacionNum
≤≤$ 1
;
≤≤1 2
bool
≥≥ 
correcto
≥≥ !
=
≥≥" #
await
≥≥$ )

Connection
≥≥* 4
.
≥≥4 5
PostOpinion
≥≥5 @
(
≥≥@ A
place
≥≥A F
,
≥≥F G
opinion
≥≥G N
)
≥≥N O
;
≥≥O P
if
¥¥ 
(
¥¥ 

Connection
¥¥ "
.
¥¥" #
latestStatusCode
¥¥# 3
==
¥¥4 6
HttpStatusCode
¥¥7 E
.
¥¥E F
OK
¥¥F H
)
¥¥H I
{
µµ 
PlantillaMensaje
∂∂ )
.
∂∂) *
Items
∂∂* /
.
∂∂/ 0
Add
∂∂0 3
(
∂∂3 4
new
∂∂4 7
{
∂∂8 9
Posicion
∂∂: B
=
∂∂C D
$str
∂∂E L
,
∂∂L M
FondoElemento
∂∂N [
=
∂∂\ ]
$str
∂∂^ e
,
∂∂e f
FondoCabecera
∂∂g t
=
∂∂u v
$str∂∂w Ä
,∂∂Ä Å
Nombre∂∂Ç à
=∂∂â ä
opinion∂∂ã í
.∂∂í ì
student∂∂ì ö
,∂∂ö õ
TiempoDeEnvio∂∂ú ©
=∂∂™ ´
DateTime∂∂¨ ¥
.∂∂¥ µ
Now∂∂µ ∏
,∂∂∏ π
MensajeEnviado∂∂∫ »
=∂∂…  
mensaje∂∂À “
,∂∂“ ”

Puntuacion∂∂‘ ﬁ
=∂∂ﬂ ‡
$str∂∂· Ô
+∂∂ Ò

puntuacion∂∂Ú ¸
}∂∂˝ ˛
)∂∂˛ ˇ
;∂∂ˇ Ä!
ContenidoDelMensaje
∑∑ +
.
∑∑+ ,
Clear
∑∑, 1
(
∑∑1 2
)
∑∑2 3
;
∑∑3 4
}
∏∏ 
else
ππ 
if
ππ 
(
ππ 

Connection
ππ '
.
ππ' (
latestStatusCode
ππ( 8
==
ππ9 ;
HttpStatusCode
ππ< J
.
ππJ K

BadRequest
ππK U
)
ππU V
{
∫∫ 

MessageBox
ªª "
.
ªª" #
Show
ªª# '
(
ªª' (
$str
ªª( ?
,
ªª? @
$str
ªªA Y
,
ªªY Z
MessageBoxButtons
ªª[ l
.
ªªl m
OK
ªªm o
)
ªªo p
;
ªªp q
}
ºº 
}
¡¡ 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬  
	exception
¬¬! *
)
¬¬* +
when
¬¬, 0
(
¬¬1 2
	exception
¬¬2 ;
is
¬¬< >
TimeoutException
¬¬? O
)
¬¬O P
{
√√ 
this
≈≈ 
.
≈≈ 
Close
≈≈ 
(
≈≈ 
)
≈≈  
;
≈≈  !
}
∆∆ 
}
«« 
}
»» 	
private
   
async
   
void
   $
Label_MouseDoubleClick
   1
(
  1 2
object
  2 8
sender
  9 ?
,
  ? @"
MouseButtonEventArgs
  A U
e
  V W
)
  W X
{
ÀÀ 	
Label
ÃÃ 
label
ÃÃ 
=
ÃÃ 
(
ÃÃ 
Label
ÃÃ  
)
ÃÃ  !
sender
ÃÃ! '
;
ÃÃ' (
if
ÕÕ 
(
ÕÕ 
label
ÕÕ 
.
ÕÕ 
Content
ÕÕ 
!=
ÕÕ 
null
ÕÕ  $
)
ÕÕ$ %
{
ŒŒ 
try
–– 
{
—— 
Opinion
““ 
opinion
““ #
=
““$ %
new
““& )
Opinion
““* 1
(
““1 2
)
““2 3
;
““3 4
String
”” 
id
”” 
=
”” 
label
””  %
.
””% &
Content
””& -
.
””- .
ToString
””. 6
(
””6 7
)
””7 8
;
””8 9
opinion
‘‘ 
.
‘‘ 
id
‘‘ 
=
‘‘  
Int32
‘‘! &
.
‘‘& '
Parse
‘‘' ,
(
‘‘, -
id
‘‘- /
)
‘‘/ 0
;
‘‘0 1
var
◊◊ 
result
◊◊ 
=
◊◊  

MessageBox
◊◊! +
.
◊◊+ ,
Show
◊◊, 0
(
◊◊0 1
$str
◊◊1 C
,
◊◊C D
$str
◊◊E W
,
◊◊W X
MessageBoxButtons
◊◊Y j
.
◊◊j k
YesNo
◊◊k p
,
◊◊p q
MessageBoxIcon◊◊r Ä
.◊◊Ä Å
Question◊◊Å â
)◊◊â ä
;◊◊ä ã
if
ÿÿ 
(
ÿÿ 
result
ÿÿ 
==
ÿÿ !
System
ÿÿ" (
.
ÿÿ( )
Windows
ÿÿ) 0
.
ÿÿ0 1
Forms
ÿÿ1 6
.
ÿÿ6 7
DialogResult
ÿÿ7 C
.
ÿÿC D
Yes
ÿÿD G
)
ÿÿG H
{
ŸŸ 
bool
⁄⁄ 
correcto
⁄⁄ %
=
⁄⁄& '
await
⁄⁄( -

Connection
⁄⁄. 8
.
⁄⁄8 9
DeleteOpinion
⁄⁄9 F
(
⁄⁄F G
place
⁄⁄G L
,
⁄⁄L M
opinion
⁄⁄N U
)
⁄⁄U V
;
⁄⁄V W
if
€€ 
(
€€ 

Connection
€€ &
.
€€& '
latestStatusCode
€€' 7
==
€€8 :
HttpStatusCode
€€; I
.
€€I J
	NoContent
€€J S
)
€€S T
{
‹‹ 
PlantillaMensaje
›› ,
.
››, -
Items
››- 2
.
››2 3
Clear
››3 8
(
››8 9
)
››9 :
;
››: ;
intializeOpinions
ﬂﬂ -
(
ﬂﬂ- .
)
ﬂﬂ. /
;
ﬂﬂ/ 0
}
‡‡ 
}
·· 
}
„„ 
catch
‰‰ 
(
‰‰ 
	Exception
‰‰  
	exception
‰‰! *
)
‰‰* +
when
‰‰, 0
(
‰‰1 2
	exception
‰‰2 ;
is
‰‰< >
TimeoutException
‰‰? O
)
‰‰O P
{
ÂÂ 
this
ÁÁ 
.
ÁÁ 
Close
ÁÁ 
(
ÁÁ 
)
ÁÁ  
;
ÁÁ  !
}
ËË 
}
ÈÈ 
}
ÎÎ 	
}
ÏÏ 
}ÌÌ ˆ&
oC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\RegisterStudent.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 
RegisterStudent (
:) *
Window+ 1
{ 
public 
RegisterStudent 
( 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
cbDegree 
. 
SelectedIndex "
=# $
$num% &
;& '
} 	
private   
async   
void   
btAdd_Click   &
(  & '
object  ' -
sender  . 4
,  4 5
RoutedEventArgs  6 E
e  F G
)  G H
{!! 	
if"" 
("" 
String"" 
."" 
IsNullOrWhiteSpace"" )
("") *
tbName""* 0
.""0 1
Text""1 5
)""5 6
||""7 9
String"": @
.""@ A
IsNullOrWhiteSpace""A S
(""S T
tbEnrollment""T `
.""` a
Text""a e
)""e f
||## 
String## 
.## 
IsNullOrWhiteSpace## +
(##+ ,

pbPassword##, 6
.##6 7
Password##7 ?
)##? @
)##@ A
{$$ 

MessageBox%% 
.%% 
Show%% 
(%%  
$str%%  T
,%%T U
$str%%V e
,%%e f
MessageBoxButton%%g w
.%%w x
OK%%x z
)%%z {
;%%{ |
}&& 
else'' 
{(( 
Student)) 
student)) 
=))  !
new))" %
Student))& -
())- .
))). /
;))/ 0
student** 
.** 
name** 
=** 
tbName** %
.**% &
Text**& *
;*** +
student++ 
.++ 

enrollment++ "
=++# $
tbEnrollment++% 1
.++1 2
Text++2 6
;++6 7
ComboBoxItem,, 
	comboItem,, &
=,,' (
(,,) *
ComboBoxItem,,* 6
),,6 7
cbDegree,,7 ?
.,,? @
SelectedItem,,@ L
;,,L M
string-- 
degreeString-- #
=--$ %
	comboItem--& /
.--/ 0
Content--0 7
.--7 8
ToString--8 @
(--@ A
)--A B
;--B C
student.. 
... 
degree.. 
=..  
degreeString..! -
;..- .
student// 
.// 
password//  
=//! "

pbPassword//# -
.//- .
Password//. 6
;//6 7
student00 
.00 
status00 
=00  
true00! %
;00% &
bool11 
correcto11 
=11 
await11  %

Connection11& 0
.110 1
PostStudent111 <
(11< =
student11= D
)11D E
;11E F
if22 
(22 

Connection22 
.22 
latestStatusCode22 /
==220 2
HttpStatusCode223 A
.22A B
Created22B I
)22I J
{33 

MessageBox44 
.44 
Show44 #
(44# $
$str44$ R
,44R S
$str44T k
,44k l
MessageBoxButton44m }
.44} ~
OK	44~ Ä
)
44Ä Å
;
44Å Ç
Login55 
login55 
=55  !
new55" %
Login55& +
(55+ ,
)55, -
;55- .
login66 
.66 
Show66 
(66 
)66  
;66  !
this77 
.77 
Close77 
(77 
)77  
;77  !
}88 
else99 
if99 
(99 

Connection99 #
.99# $
latestStatusCode99$ 4
==995 7
HttpStatusCode998 F
.99F G

BadRequest99G Q
)99Q R
{:: 

MessageBox;; 
.;; 
Show;; #
(;;# $
$str;;$ N
,;;N O
$str;;P i
,;;i j
MessageBoxButton;;k {
.;;{ |
OK;;| ~
);;~ 
;	;; Ä
}<< 
}== 
}?? 	
privateAA 
voidAA 
btReturn_ClickAA #
(AA# $
objectAA$ *
senderAA+ 1
,AA1 2
RoutedEventArgsAA3 B
eAAC D
)AAD E
{BB 	
LoginCC 
loginCC 
=CC 
newCC 
LoginCC #
(CC# $
)CC$ %
;CC% &
loginDD 
.DD 
ShowDD 
(DD 
)DD 
;DD 
thisEE 
.EE 
CloseEE 
(EE 
)EE 
;EE 
}FF 	
}GG 
}HH Æç
hC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\AddPlace.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{		 
public 

partial 
class 
AddPlace !
:" #
Window$ *
{ 
Menu 
menu 
; 
Student 
loggedStudent 
; 
string 
imageSource 
; 
bool 
isAdmin 
= 
false 
; 
public 
AddPlace 
( 
Menu 
menu !
,! "
Student# *
loggedStudent+ 8
)8 9
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
menu 
= 
menu 
; 
imageSource 
= 
$str 
; 
this 
. 
loggedStudent 
=  
loggedStudent! .
;. /
lbUser 
. 
Content 
= 
loggedStudent *
.* +
name+ /
;/ 0
if 
( 
loggedStudent 
. 
rol !
==" $
$str% 4
)4 5
{ 
isAdmin 
= 
true 
; 
} 
} 	
private!! 
void!! 
btCancel_Click!! #
(!!# $
object!!$ *
sender!!+ 1
,!!1 2
RoutedEventArgs!!3 B
e!!C D
)!!D E
{"" 	
menu## 
.## 
Show## 
(## 
)## 
;## 
this$$ 
.$$ 
Close$$ 
($$ 
)$$ 
;$$ 
}%% 	
private'' 
async'' 
void'' 
btSend_Click'' '
(''' (
object''( .
sender''/ 5
,''5 6
RoutedEventArgs''7 F
e''G H
)''H I
{(( 	
string)) 
time)) 
=)) 
$str)) 
;)) 
if** 
(** 
String** 
.** 
IsNullOrWhiteSpace** )
(**) *
imageSource*** 5
)**5 6
||**7 9
String**: @
.**@ A
IsNullOrWhiteSpace**A S
(**S T
cbType**T Z
.**Z [
Text**[ _
)**_ `
||**a c
String**d j
.**j k
IsNullOrWhiteSpace**k }
(**} ~
tbName	**~ Ñ
.
**Ñ Ö
Text
**Ö â
)
**â ä
||
**ã ç
String
**é î
.
**î ï 
IsNullOrWhiteSpace
**ï ß
(
**ß ®

tbLocation
**® ≤
.
**≤ ≥
Text
**≥ ∑
)
**∑ ∏
||
**π ª
String
**º ¬
.
**¬ √ 
IsNullOrWhiteSpace
**√ ’
(
**’ ÷
time
**÷ ⁄
)
**⁄ €
)
**€ ‹
{++ 

MessageBox,, 
.,, 
Show,, 
(,,  
$str,,  T
,,,T U
$str,,V e
,,,e f
MessageBoxButton,,g w
.,,w x
OK,,x z
),,z {
;,,{ |
}-- 
else-- 
{.. 
Place// 
place// 
=// 
new// !
Place//" '
(//' (
)//( )
{00 
name11 
=11 
tbName11 !
.11! "
Text11" &
,11& '
address22 
=22 

tbLocation22 (
.22( )
Text22) -
,22- .
services33 
=33 

tbServices33 )
.33) *
Text33* .
,33. /
schedule44 
=44 
time44 #
,44# $
status55 
=55 
StatusPlace55 (
.55( )
	pendiente55) 2
,552 3

type_place66 
=66  
cbType66! '
.66' (
Text66( ,
,66, -
image77 
=77 
Convert77 #
.77# $
ToBase64String77$ 2
(772 3
Utils773 8
.778 9
ConvertImageToBytes779 L
(77L M
imageSource77M X
)77X Y
)77Y Z
}:: 
;:: 
bool;; 
	respuesta;; 
=;;  
await;;! &

Connection;;' 1
.;;1 2
	PostPlace;;2 ;
(;;; <
place;;< A
,;;A B
isAdmin;;B I
);;I J
;;;J K
if<< 
(<< 

Connection<< 
.<< 
latestStatusCode<< /
==<<0 2
HttpStatusCode<<3 A
.<<A B
Created<<B I
)<<I J
{== 

MessageBox>> 
.>> 
Show>> #
(>># $
$str>>$ M
,>>M N
$str>>O e
,>>e f
MessageBoxButton>>g w
.>>w x
OK>>x z
)>>z {
;>>{ |
menu?? 
.?? 
Show?? 
(?? 
)?? 
;??  
this@@ 
.@@ 
Close@@ 
(@@ 
)@@  
;@@  !
}AA 
elseBB 
ifBB 
(BB 

ConnectionBB #
.BB# $
latestStatusCodeBB$ 4
==BB5 7
HttpStatusCodeBB8 F
.BBF G

BadRequestBBG Q
)BBQ R
{CC 

MessageBoxDD 
.DD 
ShowDD #
(DD# $
$strDD$ J
,DDJ K
$strDDL e
,DDe f
MessageBoxButtonDDg w
.DDw x
OKDDx z
)DDz {
;DD{ |
}EE 
}FF 
}GG 	
privateII 
stringII "
GenerateScheduleStringII -
(II- .
)II. /
{JJ 	
stringKK 
timeKK 
=KK 
$strKK 
;KK 
ifLL 
(LL 
cbMondayLL 
.LL 
	IsCheckedLL "
==LL# %
trueLL& *
&&LL+ -
!LL. /
StringLL/ 5
.LL5 6
IsNullOrWhiteSpaceLL6 H
(LLH I
tpMondayStartLLI V
.LLV W
ValueLLW \
.LL\ ]
ToStringLL] e
(LLe f
)LLf g
)LLg h
&&LLi k
!LLl m
StringLLm s
.LLs t
IsNullOrWhiteSpace	LLt Ü
(
LLÜ á
tpMondayEnd
LLá í
.
LLí ì
Value
LLì ò
.
LLò ô
ToString
LLô °
(
LL° ¢
)
LL¢ £
)
LL£ §
)
LL§ •
{MM 
timeNN 
+=NN 
$strNN !
+NN" #
tpMondayStartNN$ 1
.NN1 2
ValueNN2 7
.NN7 8
ToStringNN8 @
(NN@ A
)NNA B
.NNB C
	SubstringNNC L
(NNL M
$numNNM O
,NNO P
$numNNP R
)NNR S
+NNT U
$strNNV [
+NN\ ]
tpMondayEndNN^ i
.NNi j
ValueNNj o
.NNo p
ToStringNNp x
(NNx y
)NNy z
.NNz {
	Substring	NN{ Ñ
(
NNÑ Ö
$num
NNÖ á
,
NNá à
$num
NNâ ã
)
NNã å
+
NNç é
Environment
NNè ö
.
NNö õ
NewLine
NNõ ¢
;
NN¢ £
}OO 
ifPP 
(PP 
	cbTuesdayPP 
.PP 
	IsCheckedPP #
==PP$ &
truePP' +
&&PP, .
!PP/ 0
StringPP0 6
.PP6 7
IsNullOrWhiteSpacePP7 I
(PPI J
tpTuesdayStartPPJ X
.PPX Y
ValuePPY ^
.PP^ _
ToStringPP_ g
(PPg h
)PPh i
)PPi j
&&PPk m
!PPn o
StringPPo u
.PPu v
IsNullOrWhiteSpace	PPv à
(
PPà â
tpTuesdayEnd
PPâ ï
.
PPï ñ
Value
PPñ õ
.
PPõ ú
ToString
PPú §
(
PP§ •
)
PP• ¶
)
PP¶ ß
)
PPß ®
{QQ 
timeRR 
+=RR 
$strRR "
+RR# $
tpTuesdayStartRR% 3
.RR3 4
ValueRR4 9
.RR9 :
ToStringRR: B
(RRB C
)RRC D
.RRD E
	SubstringRRE N
(RRN O
$numRRO Q
,RRQ R
$numRRS U
)RRU V
+RRW X
$strRRY ^
+RR_ `
tpTuesdayEndRRa m
.RRm n
ValueRRn s
.RRs t
ToStringRRt |
(RR| }
)RR} ~
.RR~ 
	Substring	RR à
(
RRà â
$num
RRâ ã
,
RRã å
$num
RRç è
)
RRè ê
+
RRë í
Environment
RRì û
.
RRû ü
NewLine
RRü ¶
;
RR¶ ß
}SS 
ifTT 
(TT 
cbWednesdayTT 
.TT 
	IsCheckedTT %
==TT& (
trueTT) -
&&TT. 0
!TT1 2
StringTT2 8
.TT8 9
IsNullOrWhiteSpaceTT9 K
(TTK L
tpWednesdayStartTTL \
.TT\ ]
ValueTT] b
.TTb c
ToStringTTc k
(TTk l
)TTl m
)TTm n
&&TTo q
!TTr s
StringTTs y
.TTy z
IsNullOrWhiteSpace	TTz å
(
TTå ç
tpWednesdayEnd
TTç õ
.
TTõ ú
Value
TTú °
.
TT° ¢
ToString
TT¢ ™
(
TT™ ´
)
TT´ ¨
)
TT¨ ≠
)
TT≠ Æ
{UU 
timeVV 
+=VV 
$strVV %
+VV& '
tpWednesdayStartVV( 8
.VV8 9
ValueVV9 >
.VV> ?
ToStringVV? G
(VVG H
)VVH I
.VVI J
	SubstringVVJ S
(VVS T
$numVVT V
,VVV W
$numVVX Z
)VVZ [
+VV\ ]
$strVV^ c
+VVd e
tpWednesdayEndVVf t
.VVt u
ValueVVu z
.VVz {
ToString	VV{ É
(
VVÉ Ñ
)
VVÑ Ö
.
VVÖ Ü
	Substring
VVÜ è
(
VVè ê
$num
VVê í
,
VVí ì
$num
VVî ñ
)
VVñ ó
+
VVò ô
Environment
VVö •
.
VV• ¶
NewLine
VV¶ ≠
;
VV≠ Æ
}WW 
ifXX 
(XX 

cbThursdayXX 
.XX 
	IsCheckedXX $
==XX% '
trueXX( ,
&&XX- /
!XX0 1
StringXX1 7
.XX7 8
IsNullOrWhiteSpaceXX8 J
(XXJ K
tpThursdayStartXXK Z
.XXZ [
ValueXX[ `
.XX` a
ToStringXXa i
(XXi j
)XXj k
)XXk l
&&XXm o
!XXp q
StringXXq w
.XXw x
IsNullOrWhiteSpace	XXx ä
(
XXä ã
tpThursdayEnd
XXã ò
.
XXò ô
Value
XXô û
.
XXû ü
ToString
XXü ß
(
XXß ®
)
XX® ©
)
XX© ™
)
XX™ ´
{YY 
timeZZ 
+=ZZ 
$strZZ "
+ZZ# $
tpThursdayStartZZ% 4
.ZZ4 5
ValueZZ5 :
.ZZ: ;
ToStringZZ; C
(ZZC D
)ZZD E
.ZZE F
	SubstringZZF O
(ZZO P
$numZZP R
,ZZR S
$numZZT V
)ZZV W
+ZZX Y
$strZZZ _
+ZZ` a
tpThursdayEndZZb o
.ZZo p
ValueZZp u
.ZZu v
ToStringZZv ~
(ZZ~ 
)	ZZ Ä
.
ZZÄ Å
	Substring
ZZÅ ä
(
ZZä ã
$num
ZZã ç
,
ZZç é
$num
ZZè ë
)
ZZë í
+
ZZì î
Environment
ZZï †
.
ZZ† °
NewLine
ZZ° ®
;
ZZ® ©
}[[ 
if\\ 
(\\ 
cbFriday\\ 
.\\ 
	IsChecked\\ "
==\\# %
true\\& *
&&\\+ -
!\\. /
String\\/ 5
.\\5 6
IsNullOrWhiteSpace\\6 H
(\\H I
tpFridayEnd\\I T
.\\T U
Value\\U Z
.\\Z [
ToString\\[ c
(\\c d
)\\d e
)\\e f
&&\\g i
!\\j k
String\\k q
.\\q r
IsNullOrWhiteSpace	\\r Ñ
(
\\Ñ Ö
tpFridayStart
\\Ö í
.
\\í ì
Value
\\ì ò
.
\\ò ô
ToString
\\ô °
(
\\° ¢
)
\\¢ £
)
\\£ §
)
\\§ •
{]] 
time^^ 
+=^^ 
$str^^ #
+^^$ %
tpFridayStart^^& 3
.^^3 4
Value^^4 9
.^^9 :
ToString^^: B
(^^B C
)^^C D
.^^D E
	Substring^^E N
(^^N O
$num^^O Q
,^^Q R
$num^^S U
)^^U V
+^^W X
$str^^Y ^
+^^_ `
tpFridayEnd^^a l
.^^l m
Value^^m r
.^^r s
ToString^^s {
(^^{ |
)^^| }
.^^} ~
	Substring	^^~ á
(
^^á à
$num
^^à ä
,
^^ä ã
$num
^^å é
)
^^é è
+
^^ê ë
Environment
^^í ù
.
^^ù û
NewLine
^^û •
;
^^• ¶
}__ 
if`` 
(`` 

cbSaturday`` 
.`` 
	IsChecked`` $
==``% '
true``( ,
&&``- /
!``0 1
String``1 7
.``7 8
IsNullOrWhiteSpace``8 J
(``J K
tpSaturdayStart``K Z
.``Z [
Value``[ `
.``` a
ToString``a i
(``i j
)``j k
)``k l
&&``m o
!``p q
String``q w
.``w x
IsNullOrWhiteSpace	``x ä
(
``ä ã
tpSaturdayEnd
``ã ò
.
``ò ô
Value
``ô û
.
``û ü
ToString
``ü ß
(
``ß ®
)
``® ©
)
``© ™
)
``™ ´
{aa 
timebb 
+=bb 
$strbb "
+bb# $
tpSaturdayStartbb% 4
.bb4 5
Valuebb5 :
.bb: ;
ToStringbb; C
(bbC D
)bbD E
.bbE F
	SubstringbbF O
(bbO P
$numbbP R
,bbR S
$numbbT V
)bbV W
+bbX Y
$strbbZ _
+bb` a
tpSaturdayEndbbb o
.bbo p
Valuebbp u
.bbu v
ToStringbbv ~
(bb~ 
)	bb Ä
.
bbÄ Å
	Substring
bbÅ ä
(
bbä ã
$num
bbã ç
,
bbç é
$num
bbè ë
)
bbë í
+
bbì î
Environment
bbï †
.
bb† °
NewLine
bb° ®
;
bb® ©
}cc 
ifdd 
(dd 
cbSundaydd 
.dd 
	IsCheckeddd "
==dd# %
truedd& *
&&dd+ -
!dd. /
Stringdd/ 5
.dd5 6
IsNullOrWhiteSpacedd6 H
(ddH I
tpSundayStartddI V
.ddV W
ValueddW \
.dd\ ]
ToStringdd] e
(dde f
)ddf g
)ddg h
&&ddi k
!ddl m
Stringddm s
.dds t
IsNullOrWhiteSpace	ddt Ü
(
ddÜ á
tpSundayEnd
ddá í
.
ddí ì
Value
ddì ò
.
ddò ô
ToString
ddô °
(
dd° ¢
)
dd¢ £
)
dd£ §
)
dd§ •
{ee 
timeff 
+=ff 
$strff #
+ff$ %
tpSundayStartff& 3
.ff3 4
Valueff4 9
.ff9 :
ToStringff: B
(ffB C
)ffC D
.ffD E
	SubstringffE N
(ffN O
$numffO Q
,ffQ R
$numffS U
)ffU V
+ffW X
$strffY ^
+ff_ `
tpSundayEndffa l
.ffl m
Valueffm r
.ffr s
ToStringffs {
(ff{ |
)ff| }
.ff} ~
	Substring	ff~ á
(
ffá à
$num
ffà ä
,
ffä ã
$num
ffå é
)
ffé è
+
ffê ë
Environment
ffí ù
.
ffù û
NewLine
ffû •
;
ff• ¶
}gg 
returnhh 
timehh 
;hh 
}ii 	
privatekk 
voidkk 
btSelectImage_Clickkk (
(kk( )
objectkk) /
senderkk0 6
,kk6 7
RoutedEventArgskk8 G
ekkH I
)kkI J
{ll 	
	Microsoftmm 
.mm 
Win32mm 
.mm 
OpenFileDialogmm *
dialogmm+ 1
=mm2 3
newmm4 7
	Microsoftmm8 A
.mmA B
Win32mmB G
.mmG H
OpenFileDialogmmH V
(mmV W
)mmW X
;mmX Y
dialognn 
.nn 

DefaultExtnn 
=nn 
$strnn  &
;nn& '
dialogoo 
.oo 
Filteroo 
=oo 
$str	oo Ä
;
ooÄ Å
Nullablepp 
<pp 
boolpp 
>pp 
resultpp !
=pp" #
dialogpp$ *
.pp* +

ShowDialogpp+ 5
(pp5 6
)pp6 7
;pp7 8
ifqq 
(qq 
resultqq 
==qq 
trueqq 
)qq 
{rr 
varss 
bitmapss 
=ss 
newss  
BitmapImagess! ,
(ss, -
)ss- .
;ss. /
imageSourcett 
=tt 
dialogtt $
.tt$ %
FileNamett% -
;tt- .
bitmapuu 
.uu 
	BeginInituu  
(uu  !
)uu! "
;uu" #
bitmapvv 
.vv 
	UriSourcevv  
=vv! "
newvv# &
Urivv' *
(vv* +
dialogvv+ 1
.vv1 2
FileNamevv2 :
)vv: ;
;vv; <
bitmapww 
.ww 
DecodePixelHeightww (
=ww) *
$numww+ .
;ww. /
bitmapxx 
.xx 
EndInitxx 
(xx 
)xx  
;xx  !
imageyy 
.yy 
Sourceyy 
=yy 
bitmapyy %
;yy% &
}zz 
}{{ 	
} 
}ÄÄ ¿
cC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\App.xaml.cs
	namespace

 	
VidaForaneaCliente


 
.

 
Views

 "
{ 
public 

partial 
class 
App 
: 
Application *
{ 
public 
App 
( 
) 
{ 	

Connection 
.  
InitializeConnection +
(+ ,
), -
;- .
} 	
} 
} º$
eC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\Login.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 
Login 
:  
Window! '
{ 
bool 
	connected 
= 
true 
; 
public 
Login 
( 
) 
{ 	

Connection 
. 
token 
= 
null #
;# $
InitializeComponent 
(  
)  !
;! "
} 	
private   
async   
void   
btLogin_Click   (
(  ( )
object  ) /
sender  0 6
,  6 7
RoutedEventArgs  8 G
e  H I
)  I J
{!! 	
if"" 
("" 
String"" 
."" 
IsNullOrEmpty"" $
(""$ %

txtUsuario""% /
.""/ 0
Text""0 4
)""4 5
)""5 6
{""7 8

MessageBox## 
.## 
Show## 
(##  
$str##  7
,##7 8
$str##9 H
,##H I
MessageBoxButton##J Z
.##Z [
OK##[ ]
)##] ^
;##^ _
}$$ 
else$$ 
{$$ 
String%% 
usuario%% 
=%%  

txtUsuario%%! +
.%%+ ,
Text%%, 0
;%%0 1
Token&& 
token&& 
=&& 
new&& !
Token&&" '
(&&' (
)&&( )
;&&) *
token'' 
='' 
await'' 

Connection'' (
.''( )
Login'') .
(''. /

txtUsuario''/ 9
.''9 :
Text'': >
,''> ?
txtPassword''@ K
.''K L
Password''L T
)''T U
;''U V
if(( 
((( 

Connection(( "
.((" #
latestStatusCode((# 3
==((4 6
HttpStatusCode((7 E
.((E F
OK((F H
&&((I K
token((L Q
.((Q R
accessToken((R ]
!=((^ `
$str((a g
)((g h
{)) 

Connection** "
.**" #
	matricula**# ,
=**- .

txtUsuario**/ 9
.**9 :
Text**: >
;**> ?

Connection++ "
.++" #
password++# +
=++, -
txtPassword++. 9
.++9 :
Password++: B
;++B C
Student,, 
student,,  '
;,,' (

Connection-- "
.--" #
token--# (
=--) *
token--+ 0
;--0 1

Connection.. "
..." # 
AutheticateWithToken..# 7
(..7 8
)..8 9
;..9 :
student// 
=//  !
await//" '

Connection//( 2
.//2 3!
GetStudentByMatricula//3 H
(//H I

txtUsuario//I S
.//S T
Text//T X
)//X Y
;//Y Z

MainWindow00 "

mainWindow00# -
;00- .

mainWindow11 "
=11# $
new11% (

MainWindow11) 3
(113 4
student114 ;
)11; <
;11< =

mainWindow22 "
.22" #
Show22# '
(22' (
)22( )
;22) *
this33 
.33 
Close33 "
(33" #
)33# $
;33$ %
}55 
else66 
if66 
(66 

Connection66 '
.66' (
latestStatusCode66( 8
==669 ;
HttpStatusCode66< J
.66J K
Unauthorized66K W
)66W X
{77 

MessageBox88 "
.88" #
Show88# '
(88' (
$str88( s
,88s t
$str	88u è
,
88è ê
MessageBoxButton
88ë °
.
88° ¢
OK
88¢ §
)
88§ •
;
88• ¶
}99 
}:: 
};; 	
private<< 
void<< 
btRegister_Click<< %
(<<% &
object<<& ,
sender<<- 3
,<<3 4
RoutedEventArgs<<5 D
e<<E F
)<<F G
{== 	
RegisterStudent>> 
registerStudent>> -
=>>. /
new>>0 3
RegisterStudent>>4 C
(>>C D
)>>D E
;>>E F
registerStudent?? 
.?? 
Show?? "
(??" #
)??# $
;??$ %
this@@ 
.@@ 
Close@@ 
(@@ 
)@@ 
;@@ 
}BB 	
}CC 
}DD Ã
jC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\MainWindow.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 

MainWindow #
:$ %
Window& ,
{ 
Student 
loggedStudent 
; 
public 

MainWindow 
( 
Student !
student" )
)) *
{ 	
this 
. 
loggedStudent 
=  
student! (
;( )
InitializeComponent 
(  
)  !
;! "
lblUser 
. 
Content 
= 
loggedStudent +
.+ ,
name, 0
;0 1
} 	
private!! 
void!! 
btPlace_Click!! "
(!!" #
object!!# )
sender!!* 0
,!!0 1
RoutedEventArgs!!2 A
e!!B C
)!!C D
{"" 	
Menu$$ 
menu$$ 
=$$ 
new$$ 
Menu$$  $
($$$ %
loggedStudent$$% 2
)$$2 3
;$$3 4
menu%% 
.%% 
Show%% 
(%% 
)%% 
;%% 
this&& 
.&& 
Close&& 
(&& 
)&& 
;&& 
})) 	
private++ 
void++ 
btExit_Click++ !
(++! "
object++" (
sender++) /
,++/ 0
RoutedEventArgs++1 @
e++A B
)++B C
{,, 	
Login.. 
login.. 
=.. 
new.. !
Login.." '
(..' (
)..( )
;..) *
login// 
.// 
Show// 
(// 
)// 
;// 
this00 
.00 
Close00 
(00 
)00 
;00 
}22 	
private44 
void44 
btForo_Click44 !
(44! "
object44" (
sender44) /
,44/ 0
RoutedEventArgs441 @
e44A B
)44B C
{55 	
if66 
(66 
loggedStudent66 
.66 
rol66 !
==66" $
$str66% 4
)664 5
{77 

ForumAdmin88 
forum88  
=88! "
new88# &

ForumAdmin88' 1
(881 2
loggedStudent882 ?
,88? @
this88A E
)88E F
;88F G
forum99 
.99 
Show99 
(99 
)99 
;99 
this:: 
.:: 
Hide:: 
(:: 
):: 
;:: 
};; 
else<< 
{== 
	ForumView>> 
forum>> 
=>>  !
new>>" %
	ForumView>>& /
(>>/ 0
loggedStudent>>0 =
,>>= >
this>>? C
)>>C D
;>>D E
forum?? 
.?? 
Show?? 
(?? 
)?? 
;?? 
this@@ 
.@@ 
Hide@@ 
(@@ 
)@@ 
;@@ 
}AA 
}BB 	
}CC 
}DD (
dC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\Menu.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 
Menu 
: 
Window  &
{ 
Student 
loggedStudent 
; 
bool 
isAdmin 
= 
false 
; 
public 
Menu 
( 
Student 
student #
)# $
{ 	
this 
. 
loggedStudent 
=  
student! (
;( )
InitializeComponent 
(  
)  !
;! "
lblUser 
. 
Content 
= 
loggedStudent +
.+ ,
name, 0
;0 1
if 
( 
student 
. 
rol 
== 
$str .
). /
{   
isAdmin!! 
=!! 
true!! 
;!! 
}"" 
else## 
{$$ 
	btRequest%% 
.%% 
Opacity%% !
=%%" #
$num%%$ %
;%%% &
	btRequest&& 
.&& 
	IsEnabled&& #
=&&$ %
false&&& +
;&&+ ,
}'' 
}(( 	
private,, 
void,, 
btExit_Click,, !
(,,! "
object,," (
sender,,) /
,,,/ 0
RoutedEventArgs,,1 @
e,,A B
),,B C
{-- 	

MainWindow// 

mainWindow// %
=//& '
new//( +

MainWindow//, 6
(//6 7
loggedStudent//7 D
)//D E
;//E F

mainWindow00 
.00 
Show00 
(00  
)00  !
;00! "
this11 
.11 
Close11 
(11 
)11 
;11 
}44 	
private77 
void77 
btLeisure_Click77 $
(77$ %
object77% +
sender77, 2
,772 3
RoutedEventArgs774 C
e77D E
)77E F
{88 	
	PlaceList:: 
	placeList:: #
=::$ %
new::& )
	PlaceList::* 3
(::3 4
$str::4 :
,::: ;
loggedStudent::< I
)::I J
;::J K
	placeList;; 
.;; 
Show;; 
(;; 
);;  
;;;  !
this<< 
.<< 
Close<< 
(<< 
)<< 
;<< 
}>> 	
private@@ 
void@@ 
btFood_Click@@ !
(@@! "
object@@" (
sender@@) /
,@@/ 0
RoutedEventArgs@@1 @
e@@A B
)@@B C
{AA 	
	PlaceListBB 
	placeListBB #
=BB$ %
newBB& )
	PlaceListBB* 3
(BB3 4
$strBB4 <
,BB< =
loggedStudentBB> K
)BBK L
;BBL M
	placeListCC 
.CC 
ShowCC 
(CC 
)CC  
;CC  !
thisDD 
.DD 
CloseDD 
(DD 
)DD 
;DD 
}FF 	
privateHH 
voidHH 
btStationary_ClickHH '
(HH' (
objectHH( .
senderHH/ 5
,HH5 6
RoutedEventArgsHH7 F
eHHG H
)HHH I
{II 	
	PlaceListKK 
	placeListKK #
=KK$ %
newKK& )
	PlaceListKK* 3
(KK3 4
$strKK4 ?
,KK? @
loggedStudentKKA N
)KKN O
;KKO P
	placeListLL 
.LL 
ShowLL 
(LL 
)LL  
;LL  !
thisMM 
.MM 
CloseMM 
(MM 
)MM 
;MM 
}OO 	
privatePP 
voidPP 
btAddPlace_ClickPP %
(PP% &
objectPP& ,
senderPP- 3
,PP3 4
RoutedEventArgsPP5 D
ePPE F
)PPF G
{QQ 	
AddPlaceSS 
addPlaceSS !
=SS" #
newSS$ '
AddPlaceSS( 0
(SS0 1
thisSS1 5
,SS5 6
loggedStudentSS7 D
)SSD E
;SSE F
addPlaceTT 
.TT 
ShowTT 
(TT 
)TT 
;TT  
thisUU 
.UU 
HideUU 
(UU 
)UU 
;UU 
}YY 	
private[[ 
void[[ 
btRequest_Click[[ $
([[$ %
object[[% +
sender[[, 2
,[[2 3
RoutedEventArgs[[4 C
e[[D E
)[[E F
{\\ 	
	PlaceList]] 
	placeList]] 
=]]  !
new]]" %
	PlaceList]]& /
(]]/ 0
$str]]0 2
,]]2 3
loggedStudent]]4 A
)]]A B
;]]B C
	placeList^^ 
.^^ 
Show^^ 
(^^ 
)^^ 
;^^ 
this__ 
.__ 
Close__ 
(__ 
)__ 
;__ 
}`` 	
}aa 
}bb πR
iC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Views\PlaceList.xaml.cs
	namespace 	
VidaForaneaCliente
 
. 
Views "
{ 
public 

partial 
class 
	PlaceList "
:# $
Window% +
{ 
Student 
loggedStudent 
; 
bool 
isAdmin 
= 
false 
; 
string 
category 
; 
public  
ObservableCollection #
<# $
String$ *
>* +
PlacesCollection, <
{< =
get> A
;A B
setC F
;F G
}H I
public 
ListBox 

listPlaces !
{" #
get$ '
{( )
return* 0
lstbCategory1 =
;= >
}? @
setA D
{E F
lstbCategoryG S
=T U
valueV [
;[ \
}] ^
}_ `
List   
<   
Place   
>   
places   
=   
new    
List  ! %
<  % &
Place  & +
>  + ,
(  , -
)  - .
;  . /
public!! 
	PlaceList!! 
(!! 
String!! 
category!!  (
,!!( )
Student!!* 1
loggedStudent!!2 ?
)!!? @
{"" 	
InitializeComponent## 
(##  
)##  !
;##! "
this$$ 
.$$ 
loggedStudent$$ 
=$$  
loggedStudent$$! .
;$$. /
if%% 
(%% 
loggedStudent%% 
.%% 
rol%% !
==%%" $
$str%%% 4
)%%4 5
{&& 
isAdmin'' 
='' 
true'' 
;'' 
}(( 

lbCategory)) 
.)) 
Content)) 
=))  
category))! )
;))) *
lbUser** 
.** 
Content** 
=** 
loggedStudent** *
.*** +
name**+ /
;**/ 0
this++ 
.++ 
category++ 
=++ 
category++ $
;++$ %
InitializePlaces,, 
(,, 
category,, %
),,% &
;,,& '
}.. 	
public00 
async00 
void00 
InitializePlaces00 *
(00* +
String00+ 1
category002 :
)00: ;
{11 	
if22 
(22 
category22 
.22 
Equals22 
(22  
$str22  +
)22+ ,
)22, -
{33 
category44 
=44 
$str44 &
;44& '
imgPlace55 
.55 
Source55 
=55  !
new55" %
BitmapImage55& 1
(551 2
new552 5
Uri556 9
(559 :
System55: @
.55@ A
IO55A C
.55C D
Path55D H
.55H I
GetFullPath55I T
(55T U
$str55U u
)55u v
,55v w
UriKind55x 
.	55 Ä
Absolute
55Ä à
)
55à â
)
55â ä
;
55ä ã
}77 
else88 
if88 
(88 
category88 
.88 
Equals88 $
(88$ %
$str88% +
)88+ ,
)88, -
{99 
imgPlace:: 
.:: 
Source:: 
=::  !
new::" %
BitmapImage::& 1
(::1 2
new::2 5
Uri::6 9
(::9 :
System::: @
.::@ A
IO::A C
.::C D
Path::D H
.::H I
GetFullPath::I T
(::T U
$str::U r
)::r s
,::s t
UriKind::u |
.::| }
Absolute	::} Ö
)
::Ö Ü
)
::Ü á
;
::á à
};; 
else<< 
if<< 
(<< 
category<< 
.<< 
Equals<< $
(<<$ %
$str<<% -
)<<- .
)<<. /
{== 
imgPlace>> 
.>> 
Source>> 
=>>  !
new>>" %
BitmapImage>>& 1
(>>1 2
new>>2 5
Uri>>6 9
(>>9 :
System>>: @
.>>@ A
IO>>A C
.>>C D
Path>>D H
.>>H I
GetFullPath>>I T
(>>T U
$str>>U o
)>>o p
,>>p q
UriKind>>r y
.>>y z
Absolute	>>z Ç
)
>>Ç É
)
>>É Ñ
;
>>Ñ Ö
}?? 
string@@ 
status@@ 
=@@ 
$str@@ &
;@@& '
ifAA 
(AA 
categoryAA 
.AA 
EqualsAA 
(AA  
$strAA  "
)AA" #
)AA# $
{BB 
statusCC 
=CC 
$strCC %
;CC% &
}DD 
placesEE 
=EE 
awaitEE 

ConnectionEE %
.EE% &
GetPlacesByCategoryEE& 9
(EE9 :
statusEE: @
,EE@ A
categoryEEB J
)EEJ K
;EEK L
PlacesCollectionGG 
=GG 
newGG " 
ObservableCollectionGG# 7
<GG7 8
StringGG8 >
>GG> ?
(GG? @
)GG@ A
;GGA B
ifII 
(II 
placesII 
!=II 
nullII 
)II 
{JJ 
PlacesCollectionKK  
.KK  !
ClearKK! &
(KK& '
)KK' (
;KK( )
foreachLL 
(LL 
varLL 
placeLL "
inLL# %
placesLL& ,
)LL, -
{MM 
PlacesCollectionNN $
.NN$ %
AddNN% (
(NN( )
placeNN) .
.NN. /
nameNN/ 3
)NN3 4
;NN4 5
}OO 
}PP 

listPlacesRR 
.RR 
ItemsSourceRR "
=RR# $
PlacesCollectionRR% 5
;RR5 6
}TT 	
privateWW 
voidWW 
btReturn_ClickWW #
(WW# $
objectWW$ *
senderWW+ 1
,WW1 2
RoutedEventArgsWW3 B
eWWC D
)WWD E
{XX 	
MenuZZ 
menuZZ 
=ZZ 
newZZ 
MenuZZ  $
(ZZ$ %
loggedStudentZZ% 2
)ZZ2 3
;ZZ3 4
menu[[ 
.[[ 
Show[[ 
([[ 
)[[ 
;[[ 
this\\ 
.\\ 
Close\\ 
(\\ 
)\\ 
;\\ 
}^^ 	
private`` 
void`` )
lstbCategory_SelectionChanged`` 2
(``2 3
object``3 9
sender``: @
,``@ A%
SelectionChangedEventArgs``B [
e``\ ]
)``] ^
{aa 	
Stringbb 
placeSelectedbb  
=bb  !
lstbCategorybb" .
.bb. /
SelectedValuebb/ <
.bb< =
ToStringbb= E
(bbE F
)bbF G
;bbG H
Placecc 
placecc 
=cc 
searchPlacecc %
(cc% &
placeSelectedcc& 3
)cc3 4
;cc4 5
ifee 
(ee 
isAdminee 
)ee 
{ff 
ModifyPlacegg 
modifyPlacegg '
=gg( )
newgg* -
ModifyPlacegg. 9
(gg9 :
loggedStudentgg: G
,ggG H
placeggI N
,ggN O
categoryggO W
)ggW X
;ggX Y
modifyPlacehh 
.hh 
Showhh  
(hh  !
)hh! "
;hh" #
thisii 
.ii 
Closeii 
(ii 
)ii 
;ii 
}jj 
elsekk 
{ll 
	PlaceViewmm 
	placeviewmm #
=mm$ %
newmm& )
	PlaceViewmm* 3
(mm3 4
placemm4 9
,mm9 :
loggedStudentmm; H
,mmH I
categorymmI Q
)mmQ R
;mmR S
	placeviewnn 
.nn 
Shownn 
(nn 
)nn  
;nn  !
thisoo 
.oo 
Closeoo 
(oo 
)oo 
;oo 
}pp 
}rr 	
privatett 
Placett 
searchPlacett !
(tt! "
Stringtt" (
namett) -
)tt- .
{uu 	
Placevv 
placevv 
=vv 
newvv 
Placevv #
(vv# $
)vv$ %
;vv% &
foreachww 
(ww 
Placeww 
pww 
inww 
placesww  &
)ww& '
{xx 
ifyy 
(yy 
pyy 
.yy 
nameyy 
.yy 
Equalsyy !
(yy! "
nameyy" &
)yy& '
)yy' (
{zz 
place{{ 
={{ 
p{{ 
;{{ 
}|| 
}}} 
return~~ 
place~~ 
;~~ 
} 	
public
ÅÅ 
static
ÅÅ 
BitmapImage
ÅÅ !#
ConvertirArrayAImagen
ÅÅ" 7
(
ÅÅ7 8
byte
ÅÅ8 <
[
ÅÅ< =
]
ÅÅ= >
arrayDeImagen
ÅÅ? L
)
ÅÅL M
{
ÇÇ 	
BitmapImage
ÉÉ 
imagen
ÉÉ 
=
ÉÉ  
new
ÉÉ! $
BitmapImage
ÉÉ% 0
(
ÉÉ0 1
)
ÉÉ1 2
;
ÉÉ2 3
using
ÑÑ 
(
ÑÑ 
MemoryStream
ÑÑ 
	memStream
ÑÑ  )
=
ÑÑ* +
new
ÑÑ, /
MemoryStream
ÑÑ0 <
(
ÑÑ< =
arrayDeImagen
ÑÑ= J
)
ÑÑJ K
)
ÑÑK L
{
ÖÖ 
imagen
ÜÜ 
.
ÜÜ 
	BeginInit
ÜÜ  
(
ÜÜ  !
)
ÜÜ! "
;
ÜÜ" #
imagen
áá 
.
áá 
CacheOption
áá "
=
áá# $
BitmapCacheOption
áá% 6
.
áá6 7
OnLoad
áá7 =
;
áá= >
imagen
àà 
.
àà 
StreamSource
àà #
=
àà$ %
	memStream
àà& /
;
àà/ 0
imagen
ââ 
.
ââ 
EndInit
ââ 
(
ââ 
)
ââ  
;
ââ  !
imagen
ää 
.
ää 
Freeze
ää 
(
ää 
)
ää 
;
ää  
}
ãã 
return
åå 
imagen
åå 
;
åå 
}
çç 	
}
éé 
}èè ≥
lC:\Users\jack-\Documents\GitHub\VidaForanea\VidaForaneaCliente\VidaForaneaCliente\Properties\AssemblyInfo.cs
[

 
assembly

 	
:

	 

AssemblyTitle

 
(

 
$str

 -
)

- .
]

. /
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str !
)! "
]" #
[ 
assembly 	
:	 
!
AssemblyConfiguration  
(  !
$str! #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str /
)/ 0
]0 1
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
["" 
assembly"" 	
:""	 

	ThemeInfo"" 
("" &
ResourceDictionaryLocation## 
.## 
None## #
,### $&
ResourceDictionaryLocation&& 
.&& 
SourceAssembly&& -
))) 
])) 
[66 
assembly66 	
:66	 

AssemblyVersion66 
(66 
$str66 $
)66$ %
]66% &
[77 
assembly77 	
:77	 

AssemblyFileVersion77 
(77 
$str77 (
)77( )
]77) *